
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MISTRESS VIPER | EXCLUSIVE</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        :root { --primary: #ff0f5b; --gold: #ffd700; --dark: #050505; --panel: #111; }
        body { background: var(--dark); color: #eee; font-family: 'Inter', sans-serif; margin: 0; padding-bottom: 80px; overflow-x: hidden; }
        
        /* NAV */
        nav { position: fixed; top: 0; width: 100%; background: rgba(0,0,0,0.95); border-bottom: 1px solid #333; z-index: 100; padding: 12px 0; display:flex; justify-content:center; gap:30px; }
        .nav-item { cursor: pointer; font-size: 0.9rem; font-weight: bold; color: #888; text-transform: uppercase; letter-spacing: 1px; transition: 0.3s; }
        .nav-item.active { color: var(--primary); text-shadow: 0 0 10px var(--primary); }
        
        /* CONTAINER */
        .container { max-width: 600px; margin: 80px auto 20px; padding: 15px; display: none; animation: fadeIn 0.5s; }
        .container.active { display: block; }
        @keyframes fadeIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }
        
        /* ELEMENTS */
        .logo { text-align: center; font-family: 'Cinzel', serif; font-size: 2.8rem; color: #fff; text-shadow: 0 0 15px var(--primary); margin: 20px 0; cursor: pointer; }
        .btn { background: var(--primary); color: white; border: none; padding: 14px; width: 100%; border-radius: 6px; font-weight: bold; cursor: pointer; text-transform: uppercase; margin-top: 10px; font-size: 1rem; box-shadow: 0 4px 15px rgba(255,15,91,0.3); }
        .btn:hover { transform: scale(1.02); }
        .btn-gold { background: linear-gradient(45deg, #ffd700, #b8860b); color: black; box-shadow: 0 4px 15px rgba(255,215,0,0.3); }
        
        /* CHAT */
        #chat-widget { position: fixed; bottom: 0; left: 0; right: 0; height: 60vh; background: #000; border-top: 2px solid var(--primary); z-index: 200; display: none; flex-direction: column; box-shadow: 0 -5px 30px rgba(0,0,0,0.8); }
        #chat-msgs { flex: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 10px; }
        .msg { padding: 10px 14px; border-radius: 8px; font-size: 0.95rem; max-width: 85%; line-height: 1.4; }
        .msg.bot { background: #1a1a1a; align-self: flex-start; border-left: 3px solid var(--primary); color: #ddd; }
        .msg.user { background: var(--primary); align-self: flex-end; color: #fff; border-bottom-right-radius: 0; }
        .chat-ctrl { padding: 15px; background: #111; display: flex; gap: 10px; border-top: 1px solid #333; }
        input.field { width: 100%; padding: 12px; background: #222; border: 1px solid #444; color: white; border-radius: 6px; outline: none; }
        input.field:focus { border-color: var(--primary); }
        
        /* VIP GRID */
        .vip-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .vip-item { position: relative; height: 180px; border-radius: 8px; overflow: hidden; border: 1px solid #333; cursor: pointer; }
        .vip-item img { width: 100%; height: 100%; object-fit: cover; filter: blur(12px); transition: 0.5s; }
        .vip-item:hover img { filter: blur(8px); }
        .lock-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2rem; color: var(--gold); text-shadow: 0 2px 5px black; z-index: 2; pointer-events: none; }
        
        /* MODALS */
        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.95); display: none; align-items: center; justify-content: center; z-index: 500; backdrop-filter: blur(5px); }
        .modal-box { background: #111; padding: 25px; border: 1px solid var(--gold); width: 85%; max-width: 350px; text-align: center; border-radius: 12px; box-shadow: 0 0 30px rgba(255,215,0,0.1); }

        /* INCOMING CALL */
        #call-overlay { display: none; position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%); background: linear-gradient(145deg, #111, #222); border: 2px solid var(--primary); padding: 20px; z-index: 400; text-align: center; border-radius: 15px; width: 280px; box-shadow: 0 0 30px rgba(255,15,91,0.5); animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform:translateX(-50%) scale(1); } 50% { transform:translateX(-50%) scale(1.05); } 100% { transform:translateX(-50%) scale(1); } }
    </style>
</head>
<body>

    <!-- SETTINGS / CONFIGURATION ZONE -->
    <script>
        // --- ‚¨áÔ∏è PASTE YOUR INFO HERE ‚¨áÔ∏è ---
        const CONFIG = {
            cashApp: "$PUT_YOUR_TAG_HERE",   // Example: "$ViperMistress"
            btcAddr: "PUT_BTC_ADDRESS_HERE", // Example: "bc1qxy..."
            affiliateLink: "https://t.crjmpy.com/396104/9403/0?target=overlay&file_id=613421&aff_sub5=SF_006OG000004lmDN&aff_sub4=AT_0002",
            
            // API KEYS (Leave empty if you don't have them yet, Chat will use backup mode)
            openRouterKey: "", 
            elevenLabsKey: "",
            voiceId: "hA4zGnmTwX2NQiTRMt7o" // Default sexy voice
        };
    </script>

    <nav>
        <div class="nav-item active" onclick="showTab('home')">Live Cam</div>
        <div class="nav-item" onclick="showTab('vip')">Private</div>
        <div class="nav-item" onclick="toggleChat()">Chat <span style="color:var(--primary)">‚óè</span></div>
    </nav>

    <div class="logo" onclick="openAdmin()">JOI.AI</div>

    <!-- HOME TAB -->
    <div id="home" class="container active">
        <!-- VIDEO -->
        <div style="border: 1px solid #333; margin-bottom: 20px; border-radius:8px; overflow:hidden; position:relative;">
            <div style="position:absolute; top:10px; left:10px; background:red; color:white; padding:3px 8px; font-size:0.7rem; font-weight:bold; border-radius:4px; z-index:10;">‚óè LIVE</div>
            <video controls autoplay muted loop playsinline width="100%" style="display:block;">
                <source src="1.mp4" type="video/mp4">
            </video>
        </div>

        <!-- AFFILIATE BANNER -->
        <div style="text-align:center; margin-bottom:20px;">
             <a href="javascript:void(0)" onclick="window.open(CONFIG.affiliateLink, '_blank')" style="text-decoration:none;">
                <div style="background:#222; padding:15px; border:1px dashed var(--gold); color:var(--gold); border-radius:8px;">
                    <i class="fas fa-video"></i> START PRIVATE CAM SESSION
                </div>
            </a>
        </div>
        
        <button class="btn btn-gold" onclick="openPay('Full Access')">UNLOCK VIP LOUNGE ($20)</button>
    </div>

    <!-- VIP TAB -->
    <div id="vip" class="container">
        <h2 style="text-align:center; color:var(--gold); font-family:'Cinzel';">LOCKED CONTENT</h2>
        <div class="vip-grid">
            <!-- These look for vip1.jpg, vip2.jpg, etc. -->
            <div class="vip-item" onclick="openPay('Photo Set 1')">
                <img src="vip1.jpg" onerror="this.src='https://via.placeholder.com/300/111/333?text=Encrypted'">
                <div class="lock-icon">üîí</div>
            </div>
            <div class="vip-item" onclick="openPay('Photo Set 2')">
                <img src="vip2.jpg" onerror="this.src='https://via.placeholder.com/300/111/333?text=Encrypted'">
                <div class="lock-icon">üîí</div>
            </div>
            <div class="vip-item" onclick="openPay('Video 1')">
                <img src="vip3.jpg" onerror="this.src='https://via.placeholder.com/300/111/333?text=Encrypted'">
                <div class="lock-icon">üîí</div>
            </div>
            <div class="vip-item" onclick="openPay('Video 2')">
                <img src="vip4.jpg" onerror="this.src='https://via.placeholder.com/300/111/333?text=Encrypted'">
                <div class="lock-icon">üîí</div>
            </div>
        </div>
    </div>

    <!-- CHAT WIDGET -->
    <div id="chat-widget">
        <div style="padding:15px; background:#111; border-bottom:1px solid #333; display:flex; justify-content:space-between; align-items:center;">
            <div style="display:flex; align-items:center; gap:10px;">
                <div style="width:10px; height:10px; background:#0f0; border-radius:50%;"></div>
                <span style="color:#fff; font-weight:bold;">MISTRESS VIPER</span>
            </div>
            <span onclick="toggleChat()" style="cursor:pointer; font-size:1.2rem;">‚úï</span>
        </div>
        <div id="chat-msgs">
            <div class="msg bot">I see you looking. Are you going to pay, or just waste my time?</div>
        </div>
        <div class="chat-ctrl">
            <input type="text" id="chat-in" class="field" placeholder="Type here..." onkeypress="if(event.key==='Enter') sendMsg()">
            <button onclick="sendMsg()" class="btn" style="width:auto; margin-top:0; padding:0 20px;">‚û§</button>
        </div>
    </div>

    <!-- INCOMING CALL POPUP -->
    <div id="call-overlay">
        <div style="width:60px; height:60px; background:#333; border-radius:50%; margin:0 auto 10px; overflow:hidden;">
            <i class="fas fa-user-secret" style="font-size:30px; line-height:60px; color:#fff;"></i>
        </div>
        <h3>Incoming Call...</h3>
        <p style="color:#888; font-size:0.9rem;">Mistress Viper</p>
        <button class="btn" style="background:#0b0;" onclick="window.open(CONFIG.affiliateLink, '_blank')">ANSWER VIDEO</button>
        <button class="btn" style="background:#b00; margin-top:5px;" onclick="document.getElementById('call-overlay').style.display='none'">DECLINE</button>
    </div>

    <!-- PAYMENT MODAL -->
    <div id="pay-modal" class="modal">
        <div class="modal-box">
            <h2 style="color:var(--gold); margin-top:0;">VIP ACCESS</h2>
            <p>Send <strong>$20</strong> to unlock full access.</p>
            <div style="background:#000; padding:15px; text-align:left; font-size:0.85rem; margin-bottom:15px; border-radius:6px; border:1px solid #333; word-break: break-all;">
                <div style="margin-bottom:10px;">
                    <strong style="color:var(--primary)">CashApp:</strong><br>
                    <span id="d-cash" style="color:#fff; font-family:monospace; font-size:1.1rem;">Loading...</span>
                </div>
                <div>
                    <strong style="color:var(--gold)">Bitcoin:</strong><br>
                    <span id="d-btc" style="color:#fff; font-family:monospace; font-size:0.9rem;">Loading...</span>
                </div>
            </div>
            <button class="btn" onclick="document.getElementById('pay-modal').style.display='none'">I PAID (VERIFYING...)</button>
        </div>
    </div>

    <!-- ADMIN MODAL (Hidden Backup) -->
    <div id="admin-modal" class="modal">
        <div class="modal-box">
            <h3>ADMIN SETTINGS</h3>
            <p style="font-size:0.8rem; color:#888;">(Settings in code take priority)</p>
            <input id="k-brain" class="field" type="password" placeholder="OpenRouter API Key">
            <input id="k-voice" class="field" type="password" placeholder="ElevenLabs API Key" style="margin-top:5px;">
            <button class="btn" onclick="saveAdmin()">SAVE</button>
        </div>
    </div>

    <script>
        // INIT
        let clicks = 0;
        
        // Navigation
        function showTab(id) {
            document.querySelectorAll('.container').forEach(e => e.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(e => e.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            // Update active nav style
            const idx = ['home','vip'].indexOf(id);
            if(idx > -1) document.querySelectorAll('.nav-item')[idx].classList.add('active');
        }

        function toggleChat() {
            const c = document.getElementById('chat-widget');
            c.style.display = (c.style.display === 'flex') ? 'none' : 'flex';
        }

        // Admin / Payments
        function openAdmin() {
            clicks++;
            if(clicks === 3) {
                document.getElementById('k-brain').value = localStorage.getItem('v_brain') || CONFIG.openRouterKey;
                document.getElementById('k-voice').value = localStorage.getItem('v_voice') || CONFIG.elevenLabsKey;
                document.getElementById('admin-modal').style.display = 'flex';
                clicks = 0;
            }
        }

        function saveAdmin() {
            localStorage.setItem('v_brain', document.getElementById('k-brain').value);
            localStorage.setItem('v_voice', document.getElementById('k-voice').value);
            document.getElementById('admin-modal').style.display = 'none';
            alert('Keys Saved');
        }

        function openPay(item) {
            // Prefer Config, fallback to LocalStorage, fallback to Warning
            const c = CONFIG.cashApp !== "$PUT_YOUR_TAG_HERE" ? CONFIG.cashApp : (localStorage.getItem('v_cash') || "Not Set");
            const b = CONFIG.btcAddr !== "PUT_BTC_ADDRESS_HERE" ? CONFIG.btcAddr : (localStorage.getItem('v_btc') || "Not Set");
            
            document.getElementById('d-cash').innerText = c;
            document.getElementById('d-btc').innerText = b;
            document.getElementById('pay-modal').style.display = 'flex';
        }

        // Fake Call Timer (10s)
        setTimeout(() => { document.getElementById('call-overlay').style.display = 'block'; }, 10000);

        // CHAT LOGIC
        async function sendMsg() {
            const inp = document.getElementById('chat-in');
            const txt = inp.value.trim();
            if(!txt) return;

            const b = document.getElementById('chat-msgs');
            b.innerHTML += `<div class="msg user">${txt}</div>`;
            inp.value = '';
            b.scrollTop = b.scrollHeight;

            // Determine Keys (Config first, then Saved)
            const keyBrain = CONFIG.openRouterKey || localStorage.getItem('v_brain');
            const keyVoice = CONFIG.elevenLabsKey || localStorage.getItem('v_voice');

            if(!keyBrain) {
                // FALLBACK MODE (No API Key)
                setTimeout(() => {
                    const replies = [
                        "I can't hear you properly... come closer.",
                        "You talk too much. Just send the money.",
                        "Are you a good boy? Prove it.",
                        "I'm bored. Entertain me.",
                        "Is that all you have to say?",
                        "Unlock the VIP if you want my full attention."
                    ];
                    const r = replies[Math.floor(Math.random() * replies.length)];
                    b.innerHTML += `<div class="msg bot">${r} <br><i style='font-size:0.7rem; color:#666'>(Admin: Add API Key for AI)</i></div>`;
                    b.scrollTop = b.scrollHeight;
                }, 1000);
                return;
            }

            // AI MODE
            try {
                const req = await fetch("https://openrouter.ai/api/v1/chat/completions", {
                    method: "POST",
                    headers: { "Authorization": "Bearer " + keyBrain, "Content-Type": "application/json", "HTTP-Referer": window.location.href },
                    body: JSON.stringify({ 
                        model: "gryphe/mythomax-l2-13b", 
                        messages: [
                            {role:"system", content:"You are Mistress Viper. Dominant, seductive, money-hungry AI. Keep replies short and teasing."}, 
                            {role:"user", content:txt}
                        ] 
                    })
                });
                const d = await req.json();
                const aiTxt = d.choices[0].message.content;
                b.innerHTML += `<div class="msg bot">${aiTxt}</div>`;
                b.scrollTop = b.scrollHeight;

                // Voice
                if(keyVoice) {
                    const vr = await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${CONFIG.voiceId}`, {
                        method: "POST", headers: { "xi-api-key": keyVoice, "Content-Type": "application/json" },
                        body: JSON.stringify({ text: aiTxt, model_id: "eleven_multilingual_v2" })
                    });
                    if(vr.ok) new Audio(URL.createObjectURL(await vr.blob())).play();
                }
            } catch(e) { 
                console.error(e); 
                b.innerHTML += `<div class="msg bot">... (System Error)</div>`; 
            }
        }
    </script>
</body>
</html>
