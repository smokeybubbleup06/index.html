!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c1c7fef9-f1ff-4dfb-951b-3241e7d6d6a1",e._sentryDebugIdIdentifier="sentry-dbid-c1c7fef9-f1ff-4dfb-951b-3241e7d6d6a1")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6919],{110:(e,t,a)=>{"use strict";a.d(t,{d:()=>o});var s=a(16911),l=a(22567),i=a(25045);let o=e=>(0,s.jsxs)(i.n,{imageUrl:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/9f497b5c-15b8-4d14-113b-fb60f2a88900/public",title:e.title,classNames:{leftContainer:"gap-y-4 md:gap-y-3 pt-14 pb-10",rightContainer:"hidden md:flex shrink-0",container:"h-[540px] md:h-[500px]"},imageLoader:e.imageLoader,"data-sentry-element":"FreeTrialHorizontalLayout","data-sentry-component":"FreeTrialPlanListView","data-sentry-source-file":"free-trial-plan-list-view.tsx",children:[e.children,(0,s.jsx)("div",{className:"md:hidden relative",children:(0,s.jsx)(l.default,{className:"object-cover",loader:e.imageLoader,src:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/8b2c8df2-db3d-4303-51c4-711d87eb4900/public",alt:e.title,width:1005,height:1193,"data-sentry-element":"NextJSImage","data-sentry-source-file":"free-trial-plan-list-view.tsx"})})]})},563:(e,t,a)=>{"use strict";a.d(t,{B:()=>o});var s=a(48155),l=a(77688),i=a(91495);let o=(e,t)=>{let{t:a}=(0,i.B)(t,"common");return{deletePost:t=>{if(!e)return Promise.reject();let i=s.QJ.user.requestDeletePost(t,e).then(e=>0==e.code).catch(e=>(console.error("Error deleting post ".concat(t),e),!1));return l.X.info({title:a("Deleting..."),promise:i}),i.then(e=>(l.X.closeAllToasts(),e&&l.X.success({title:a("Delete Successful")}),e))}}}},1715:(e,t,a)=>{"use strict";a.d(t,{C:()=>d});var s=a(16911),l=a(69782),i=a(27960),o=a(19753),r=a(72902),n=a(1223);function d(e){var t,a,d;let c=e.variant||"underlined",u=t=>{var a,i;let r=t.key===e.selectedKey;return(0,s.jsxs)("div",{className:(0,l.$)("flex items-center gap-x-0.5",r?(0,l.$)(null===(a=e.classNames)||void 0===a?void 0:a.selectedTab,"font-semibold"):null===(i=e.classNames)||void 0===i?void 0:i.unselectedTab),children:[t.icon&&(0,s.jsx)("span",{className:"tab-icon",children:t.icon}),(0,s.jsx)("span",{children:t.value}),!0===t.locked&&(0,s.jsx)(o.XA,{className:"focus:outline-none",color:r?"black":"rgba(255, 255, 255, 0.5)",size:14})]})};return(0,s.jsx)(r.r,{"aria-label":"Options",classNames:{tabList:(0,l.$)(null===(t=e.classNames)||void 0===t?void 0:t.tabList),tab:(0,l.$)(null===(a=e.classNames)||void 0===a?void 0:a.tab),cursor:(0,l.$)("w-[65%]",null===(d=e.classNames)||void 0===d?void 0:d.cursor)},disabledKeys:e.items.filter(e=>e.disabled).map(e=>e.key),onSelectionChange:t=>{let a=String(t),s=e.items.find(e=>e.key===a);(null==s?void 0:s.locked)?e.onClickLockedKey&&e.onClickLockedKey(a):(null==s?void 0:s.disabled)||e.onSelectKey(a)},selectedKey:e.selectedKey||void 0,variant:c,"data-sentry-element":"Tabs","data-sentry-component":"RadioButtonGroupViewV2","data-sentry-source-file":"radio-button-group-view-v2.tsx",children:e.items.map(e=>(0,s.jsx)(n.i,{"data-gtm":e.gtm,id:e.gtm,title:e.tooltip?(0,s.jsx)(i.I,{content:e.tooltip,children:u(e)}):u(e)},e.key))})}},3435:(e,t,a)=>{"use strict";a.d(t,{m:()=>o});var s=a(68157),l=a(46379),i=a(48155);let o=(e,t,a,o)=>{let r=()=>{if(!e)return;let a=t.filter(e=>null!=e.generate_info&&e.generate_info.status!=s.I.COMPLETION).map(e=>e.id);!(a.length<1)&&i.QJ.webPost.queryPostsGenerateInfo(a,e).then(e=>{let a=[];for(let o of Object.keys(e.posts)){var l,i,r;let n=null===(l=e.posts[o])||void 0===l?void 0:l.status,d=null===(r=t.find(e=>e.id===o))||void 0===r?void 0:null===(i=r.generate_info)||void 0===i?void 0:i.status;d&&n&&d!=n&&[s.I.RUNNING,s.I.COMPLETION].includes(n)&&a.push(o)}!(a.length<1)&&o(a)})};(0,l.$$)(()=>{r()},e&&t.length>0?a:null)}},6070:(e,t,a)=>{"use strict";a.d(t,{E:()=>i});var s=a(16911),l=a(40261);let i=e=>{let t=e.isOpen&&null!==e.postId;return(0,s.jsx)(l.l,{danger:!0,isOpen:t,okButton:{title:e.t("Delete")},onClickOk:()=>!!e.postId&&(e.onClickDelete(e.postId),!0),onOpenChange:e.onOpenChange,t:e.t,title:e.t("Delete this generation task?"),"data-sentry-element":"DomoAlertModal","data-sentry-component":"DeletePostAlertDialog","data-sentry-source-file":"delete-post-alert-dialog.tsx",children:e.t("After deleting, you can no longer edit or download this task, are you sure to continue?")})}},8607:(e,t,a)=>{"use strict";a.d(t,{X:()=>C,Y:()=>k});var s=a(16911),l=a(40386),i=a(46379),o=a(65124),r=a(38680),n=a(22567),d=a(85943),c=a(19753),u=a(11979),p=a(22334),m=a(85940),g=a(80595),h=a(90782),v=a(53497),f=a(65615),x=a(49906),y=a(77688),b=a(66087),w=a(69782),C=function(e){return e[e.REGEN=0]="REGEN",e[e.DELETE=1]="DELETE",e}({});let k=e=>{var t,a,C,k;let j;let[N,_]=(0,i.Cj)(),[A,I]=(0,b.useState)(!1),[P,O]=(0,b.useState)(!1),{isOpen:E,onOpen:D,onOpenChange:S}=(0,v.j)();j=(null===(a=e.post)||void 0===a?void 0:null===(t=a.user)||void 0===t?void 0:t.uid)==null||e.currentUid==e.post.user.uid?e.t("Re-gen"):e.t("Remix with this model");let T=e.loading,M=(0,x.vV)(e.post),R="min-w-9 w-9 min-h-9 h-9 opacity-50 hover:opacity-100 transition-all duration-300";return(0,s.jsxs)("div",{className:"h-[72px] flex flex-row px-4 items-center gap-x-2 shrink-0","data-sentry-component":"PostDetailPostControlMobileView","data-sentry-source-file":"post-detail-post-control-mobile-view.tsx",children:[T?(0,s.jsx)(o.m,{className:"h-9 flex-1 rounded-full"}):(0,s.jsx)(r._,{"aria-label":"Re-gen",className:"text-white text-sm font-medium h-9 gap-x-1 flex-1 border-1.5 border-white/20",variant:"bordered",isDisabled:(null===(C=e.featuresDisabled)||void 0===C?void 0:C.regen)||A,onPress:()=>{I(!0),e.onClickMenu(0).finally(()=>{I(!1)})},startContent:(0,s.jsx)(n.default,{loader:d.S,alt:"Regen",height:20,src:c.j$,width:20}),radius:"full",children:j}),T?(0,s.jsx)(o.m,{className:"size-9 rounded-full"}):(0,s.jsx)(r._,{"aria-label":"Info",className:R,isIconOnly:!0,onPress:D,radius:"full",variant:"light",children:(0,s.jsx)(u.mo,{size:28})}),(null===(k=e.featuresDisabled)||void 0===k?void 0:k.delete)?null:(0,s.jsx)(s.Fragment,{children:T?(0,s.jsx)(o.m,{className:"size-9 rounded-full"}):(0,s.jsx)(r._,{"aria-label":"Delete",className:R,isDisabled:P,isIconOnly:!0,onPress:()=>{O(!0),e.onClickMenu(1).finally(()=>{O(!1)})},radius:"full",variant:"light",children:(0,s.jsx)(c.d7,{size:26})})}),(0,s.jsx)(p.I,{classNames:{base:"h-auto"},hideCloseButton:!0,isOpen:E,onOpenChange:S,placement:"bottom","data-sentry-element":"Drawer","data-sentry-source-file":"post-detail-post-control-mobile-view.tsx",children:(0,s.jsx)(m.g,{className:"h-full","data-sentry-element":"DrawerContent","data-sentry-source-file":"post-detail-post-control-mobile-view.tsx",children:t=>{let a=e.post?(0,l.lV)(e.post):null;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.c,{className:"p-0",onClick:t,children:(0,s.jsx)(f.$,{})}),(0,s.jsxs)(h.h,{className:"pt-4 px-3 pb-5 gap-y-2 items-start overflow-y-hidden",children:[(0,s.jsx)("div",{className:"font-semibold text-sm",children:e.t("Prompt")}),(0,s.jsx)("div",{className:(0,w.$)("font-normal text-sm whitespace-pre-wrap break-words w-full overflow-y-scroll scrollbar-hide",a?void 0:"opacity-50"),children:(0,s.jsx)("p",{children:a||e.t("No prompt")})}),(0,s.jsx)(x.bh,{t:e.t,tag:M}),(0,s.jsx)(r._,{"aria-label":"Copy",className:"text-white text-sm font-medium h-9 min-h-9 gap-x-1 border-1.5 border-white/20 w-full mt-auto",variant:"bordered",isDisabled:!a,onPress:()=>{_(null!=a?a:"").then(()=>{y.X.success({title:e.t("Copied")})})},startContent:(0,s.jsx)(n.default,{loader:d.S,alt:"Copy",height:20,src:c.su,width:20}),radius:"full",children:e.t("Copy prompt")})]})]})}})})]})}},10414:(e,t,a)=>{"use strict";a.d(t,{z:()=>r});var s=a(91495),l=a(85255),i=a(48155),o=a(77688);let r=(e,t,a)=>{let{t:r}=(0,s.B)(e,"common");return{addToAssets:async e=>{var s;if(!t)return Promise.resolve();let n="".concat(null!==(s=e.type)&&void 0!==s?s:"file","_").concat(Date.now(),"_").concat(Math.floor(1e4*Math.random())),d=(0,l.eV)(e.category),c=i.QJ.userAssets.uploadFile(e.url,n,d,t).catch(e=>{var t;throw(null===(t=e.response)||void 0===t?void 0:t.status)==400&&a(e.response.data.code),e});return o.X.info({title:r("Add to assets..."),promise:c}),c.then(()=>{o.X.closeAllToasts(),o.X.success({title:r("Add Assets Success")})}).catch(()=>{o.X.closeAllToasts()})}}}},15285:(e,t,a)=>{"use strict";a.d(t,{K:()=>l});var s=a(84681);let l=(e,t)=>({editorInfo:null,disableWatermark:!1,updateDisableWatermark:t=>{e((0,s.jM)(e=>{e.editorInfo&&(e.editorInfo.disable_watermark_enabled||!t)&&(e.disableWatermark=t)}))}})},16690:(e,t,a)=>{"use strict";a.d(t,{u:()=>p});var s=a(16911),l=a(34230);let i=e=>(0,s.jsx)(l.l,{onEndTrial:e.onEndTrial,title:e.t("Upgrade to Paid & Unlock Relax Mode!"),isOpen:e.isOpen,onOpenChange:e.onOpenChange,t:e.t,upgradePlanLink:e.upgradePlanLink,imageLoader:e.imageLoader,content:e.t("Relax Mode lets you generate content without using your credits. However, during peak hours, you may experience a queue.\n\nDue to high computational demands, this feature is exclusive to paid users. By clicking the button below, you will instantly activate your paid subscription. Please confirm if you’d like to proceed."),"data-sentry-element":"FreeTrailEndTrialModal","data-sentry-component":"FreeTrailRelaxModeUnavailableModal","data-sentry-source-file":"free-trail-relax-mode-unavailable-modal.tsx"});var o=a(96267),r=a.n(o),n=a(43945),d=a(40261);let c=e=>(0,s.jsx)(d.l,{isOpen:e.isOpen,okButton:{title:e.t("Upgrade"),as:r(),href:e.upgradePlanLink,target:"_blank"},onOpenChange:e.onOpenChange,t:e.t,title:e.t("Relax Mode Option Unavailable"),"data-sentry-element":"DomoAlertModal","data-sentry-component":"RelaxModeUnavailableModal","data-sentry-source-file":"relax-mode-unavailable-modal.tsx",children:(0,s.jsxs)(n.x,{i18nKey:"modal.unavailableRelax",t:e.t,"data-sentry-element":"Trans","data-sentry-source-file":"relax-mode-unavailable-modal.tsx",children:["Relax Mode is available only with Standard Plan and Pro Plan Subscribers. You can\xa0",(0,s.jsx)(r(),{className:"text-wrap text-[#40A5FF]",href:e.upgradePlanLink,target:"_blank","data-sentry-element":"NextJSLink","data-sentry-source-file":"relax-mode-unavailable-modal.tsx",children:"upgrade your plan"}),"\xa0 to use relax mode."]})});var u=a(6182);let p=e=>e.isTrial&&e.vipLevel&&e.vipLevel>=u.Qm.STANDARD?(0,s.jsx)(i,{onEndTrial:e.onEndTrial,imageLoader:e.imageLoader,isOpen:e.isOpen,onOpenChange:e.onOpenChange,t:e.t,upgradePlanLink:e.upgradePlanLink}):(0,s.jsx)(c,{t:e.t,isOpen:e.isOpen,onOpenChange:e.onOpenChange,upgradePlanLink:e.upgradePlanLink})},17430:(e,t,a)=>{"use strict";a.d(t,{M:()=>s});var s=function(e){return e[e.AI_VIDEO=0]="AI_VIDEO",e[e.AI_IMAGE=1]="AI_IMAGE",e[e.AI_EDITING=2]="AI_EDITING",e}({})},21689:e=>{e.exports={embla:"embla_embla__Tcsjw",embla__container:"embla_embla__container__fuSpg",embla__slide:"embla_embla__slide__NYrp7",embla__controls:"embla_embla__controls__k1CJJ"}},23693:(e,t,a)=>{"use strict";a.d(t,{x:()=>s});let s=e=>{window.open(e,"_blank")}},25045:(e,t,a)=>{"use strict";a.d(t,{n:()=>o});var s=a(16911),l=a(69782),i=a(22567);let o=e=>{var t,a,o;return(0,s.jsxs)("div",{className:(0,l.$)("relative flex flex-col overflow-y-scroll md:flex-row w-full min-h-[500px] text-sm items-stretch scrollbar-hide",null===(t=e.classNames)||void 0===t?void 0:t.container),"data-sentry-component":"FreeTrialHorizontalLayout","data-sentry-source-file":"free-trial-horizontal-layout.tsx",children:[e.head,(0,s.jsxs)("div",{className:(0,l.$)("flex flex-col flex-grow px-6 py-6 md:px-9 md:py-8 max-w-[436px]",null===(a=e.classNames)||void 0===a?void 0:a.leftContainer),children:[(0,s.jsx)("div",{className:"font-semibold text-xl",children:e.title}),e.children]}),(0,s.jsx)("div",{className:(0,l.$)("h-[180px] overflow-clip md:h-auto md:aspect-[460/500] relative md:max-w-[54%]",null===(o=e.classNames)||void 0===o?void 0:o.rightContainer),children:(0,s.jsx)(i.default,{className:"object-cover",loader:e.imageLoader,src:e.imageUrl,alt:e.title,width:1380,height:1500,"data-sentry-element":"NextJSImage","data-sentry-source-file":"free-trial-horizontal-layout.tsx"})})]})}},27125:(e,t,a)=>{"use strict";a.d(t,{h:()=>j});var s=a(16911),l=a(66087),i=a(46200),o=a(53497),r=a(5505),n=a(85940),d=a(90782),c=a(69782),u=a(52137),p=a(1142),m=a(18881),g=a(91495),h=a(6053),v=a(6070),f=a(65924),x=a(46379),y=a(57096),b=a(61450),w=a(8607),C=a(563),k=a(85810);function j(e){var t,a;let{t:j}=(0,g.B)(e.lng,"common"),[N,_]=(0,l.useState)(null),[A,I]=(0,l.useState)(0),{data:P}=(0,i.useSession)(),{isOpen:O,onOpen:E,onOpenChange:D,onClose:S}=(0,o.j)(),{isOpen:T,onOpen:M,onOpenChange:R}=(0,o.j)(),V=(0,k.i)((0,y.k)(e=>({previewPost:e.previewPost,updatePreviewPost:e.updatePreviewPost}))),L=V.previewPost,U=(0,x.Ub)("(min-width: 768px)"),{deletePost:F}=(0,C.B)(null==P?void 0:P.accessToken,e.lng);if(U||!L)return null;let G=null==P?void 0:null===(t=P.user)||void 0===t?void 0:t.uid,B=(t,a)=>{a&&F(t).then(a=>{a&&(V.updatePreviewPost(null),e.onPostDeleted(t))})},z=t=>{switch(t){case w.X.DELETE:M(),_(L.id);break;case w.X.REGEN:return e.onClickRegen(L)}return Promise.resolve()},q=(0,s.jsxs)(s.Fragment,{children:[void 0!==L.params&&(0,s.jsx)(h.D,{isOpen:O,onClickVideoUpscale:t=>{e.onUpscaleVideoPost(L,t),S()},onOpenChange:D,t:j,videoDuration:null!==(a=(0,p.V)(L))&&void 0!==a?a:void 0,videoQuality:(0,m.u)(L.params)}),T&&N?(0,s.jsx)(v.E,{isOpen:T,onClickDelete:e=>{B(e,null==P?void 0:P.accessToken),_(null)},onOpenChange:R,postId:N,t:j}):null]});return(0,s.jsx)(r.Y,{classNames:{wrapper:"w-full h-full p-0 bg-transparent md:px-[60px] md:py-[60px] lg:px-[118px] lg:py-[86px]",base:"w-full h-full max-w-none !m-0 !p-0 rounded-none md:rounded-[14px] border border-white/15",body:"p-0 h-full"},defaultOpen:!0,hideCloseButton:!0,isDismissable:!1,isKeyboardDismissDisabled:!0,onClose:()=>{V.updatePreviewPost(null)},"data-sentry-element":"Modal","data-sentry-component":"EditorMobilePostPreviewModal","data-sentry-source-file":"editor-mobile-post-preview-modal.tsx",children:(0,s.jsx)(n.g,{"data-sentry-element":"ModalContent","data-sentry-source-file":"editor-mobile-post-preview-modal.tsx",children:()=>(0,s.jsxs)(d.h,{className:(0,c.$)("size-full",e.className),children:[!e.children&&(0,s.jsx)(f.PostDetailMobileView,{selectedAssetIndex:A,onSelectAssetIndex:I,featuresDisabled:{submitShowcase:!0},onClose:()=>V.updatePreviewPost(null),lng:e.lng,loading:!1,onClickMenu:z,onClickContentMenu:(t,a,s)=>{if(L)return t===b.A.UPSCALE&&L.category===u.M.VIDEO?(E(),Promise.resolve()):e.onClickContentMenu(t,L.id,a,s,L.category);return Promise.resolve()},post:L,uid:G}),e.children,q]})})})}},30904:(e,t,a)=>{"use strict";a.d(t,{P:()=>b});var s=a(16911),l=a(66087),i=a(5505),o=a(85940),r=a(80595),n=a(90782),d=a(69782),c=a(46379),u=a(38680),p=a(19753),m=a(85128),g=a(19719),h=a(81313),v=a(27262),f=a(52137),x=a(59543);let y=e=>{let{t,fileKey:a}=e,l={[f.M.VIDEO]:{video:{title:t("Video upload guide"),steps:[{id:"step1",content:t("Your video should have a clear subject.")},{id:"step2",content:t("The subject should not be too close or too far away from the camera.")},{id:"step3",content:t("The range of movement of the camera and   amplitude of the subject's movements should not be too large.")}],videoOptions:{poster:"https://customer-v3pak2qtdtieudrb.cloudflarestream.com/b35bb4c6d1e77f4dc6a4fc74202c54b1/thumbnails/thumbnail.jpg?time=2.5s",sources:[{src:"https://customer-v3pak2qtdtieudrb.cloudflarestream.com/b35bb4c6d1e77f4dc6a4fc74202c54b1/manifest/video.m3u8",type:"application/x-mpegURL"},{src:"https://customer-v3pak2qtdtieudrb.cloudflarestream.com/b35bb4c6d1e77f4dc6a4fc74202c54b1/downloads/default.mp4",type:"video/mp4"}],autoplay:!0,loop:!0,muted:!0,playsinline:!0}}},[f.M.ANIMATE]:{image:{title:t("Image to video guide"),steps:[{id:"step1",content:t("Upload one image and describe the video you want with prompt.")}],videoOptions:{poster:"https://customer-v3pak2qtdtieudrb.cloudflarestream.com/6e17aa72ce40cdbfed28b469eb996dda/thumbnails/thumbnail.jpg?time=2.5s",sources:[{src:"https://customer-v3pak2qtdtieudrb.cloudflarestream.com/6e17aa72ce40cdbfed28b469eb996dda/manifest/video.m3u8",type:"application/x-mpegURL"},{src:"https://customer-v3pak2qtdtieudrb.cloudflarestream.com/6e17aa72ce40cdbfed28b469eb996dda/downloads/default.mp4",type:"video/mp4"}],autoplay:!0,loop:!0,muted:!0,playsinline:!0}}},[f.M.MOVE]:{image:{title:t("Character photo upload guide"),steps:[{id:"step1",content:t("To ensure better results, Please upload a full-body photo with clean background.")},{id:"step2",content:t("Try not to make the character's face tilted or upside down, don’t cover the face of character.")}],img:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/01c4e5a5-3bd6-4f37-c9d1-03f5fe85aa00/public"},video:{title:t("Moment video upload guide"),steps:[{id:"step1",content:t("To ensure better results, please upload video with only one character.")},{id:"step2",content:t("The range of movement of the camera and the amplitude of the subject's movements should not be too large.")}],videoOptions:{poster:"https://customer-v3pak2qtdtieudrb.cloudflarestream.com/16f2620b7ca870b0bd987fb2aca2a225/thumbnails/thumbnail.jpg?time=2.5s",sources:[{src:"https://customer-v3pak2qtdtieudrb.cloudflarestream.com/16f2620b7ca870b0bd987fb2aca2a225/manifest/video.m3u8",type:"application/x-mpegURL"},{src:"https://customer-v3pak2qtdtieudrb.cloudflarestream.com/16f2620b7ca870b0bd987fb2aca2a225/downloads/default.mp4",type:"video/mp4"}],autoplay:!0,loop:!0,muted:!0,playsinline:!0}}},[f.M.TALKING_AVATAR]:{image:{title:t("Photo upload guide"),steps:[{id:"step1",content:t("To ensure better results, please upload photo with a clear and visible face, preferably a portrait photo.")},{id:"step2",content:t("Try not to make the character's face tilted or upside down, don’t cover the face of character.")}],img:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/1a63e9ff-e531-4333-ce38-0c498dcf0000/public"},audio:{title:t("Audio upload guide"),steps:[{id:"step1",content:t("To ensure better results, please upload audio with no background noise and contains only one speaker.")},{id:"step2",content:t("Please upload audio of the same length as the video or longer.")}],img:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/35b39287-d563-46f7-9cc6-6edd80788700/public"}},[f.M.GEN]:{image:{title:t("Text to image guide"),steps:[{id:"step1",content:t("To ensure better results, you prompt should be more detailed.")},{id:"step2",content:t("If you have trouble finding inspirations, try AI Prompt optimization!")},{id:"step3",content:t("Besides our provided model, you may also specify your preferred style and generate using the FX model.")}],img:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/b72187f0-34d4-43f2-0dc0-c16a67567f00/public"}}},i=e.category?l[e.category]:void 0,o=(e=>e.includes("image")?"image":e.includes("video")?"video":e.includes("audio")?"audio":e)(a),r=i&&i[o];return(0,s.jsxs)("div",{className:"w-full flex flex-col items-center font-hostGrotesk text-white","data-sentry-component":"TutorialTipsContent","data-sentry-source-file":"use-tutorial-tip.tsx",children:[(0,s.jsx)("div",{className:"text-base font-medium py-4 leading-[100%]",children:null==r?void 0:r.title}),(0,s.jsx)(v.y,{className:"w-full",orientation:"horizontal","data-sentry-element":"Divider","data-sentry-source-file":"use-tutorial-tip.tsx"}),(0,s.jsxs)("div",{className:"w-full flex flex-col md:flex-col-reverse px-4 py-4 md:py-7",children:[(0,s.jsx)("ul",{className:"text-sm mb-3 md:mt-2 md:mb-0 font-light opacity-50",children:null==r?void 0:r.steps.map(e=>(0,s.jsxs)("li",{className:"flex gap-2 mt-2",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-5 h-5",children:(0,s.jsx)(p.YW,{size:20})}),(0,s.jsx)("span",{className:"flex-1 leading-5 font-light text-sm",children:e.content})]},e.id))}),r&&r.img&&(0,s.jsx)("img",{src:r.img,alt:r.title,className:"w-full h-auto aspect-[368/260] object-cover rounded-lg"}),r&&r.videoOptions&&(0,s.jsxs)("div",{className:"relative w-full h-auto",children:[(0,s.jsx)(x.y,{className:"w-full h-auto aspect-[354/200] object-cover rounded-lg overflow-hidden",options:r.videoOptions}),(0,s.jsx)("div",{className:"w-full h-full absolute inset-0 z-10",onClick:e=>{e.preventDefault(),e.stopPropagation()}})]})]})]})},b=e=>{let{t}=e,[a,v]=(0,l.useState)(!1),f=(0,c.Ub)("(min-width: 768px)"),x=e=>{v(e)},b=(0,l.useCallback)(()=>{v(!1)},[]),w=(0,l.useCallback)(e=>{e.stopPropagation()},[]);return(0,s.jsx)(s.Fragment,{children:f?(0,s.jsxs)(m.y,{isOpen:a,onOpenChange:x,onClose:b,placement:"right-start",disableAnimation:!0,children:[(0,s.jsx)(g.T,{onClick:w,children:(0,s.jsxs)("div",{className:(0,d.$)("cursor-pointer !min-w-[70px] flex flex-row justify-center items-center gap-0.5 rounded-full h-6 absolute top-2 right-2 pl-1 pr-2 z-10 bg-transparent hover:bg-domo-hover-white transition-background duration-200",a?"bg-domo-hover-white":"undefined"),children:[(0,s.jsx)(p.uX,{color:a?"white":"#808080"}),(0,s.jsx)("span",{className:(0,d.$)("text-[10px] font-medium",a?"text-white":"text-white/50"),children:t("Tutorial")})]})}),(0,s.jsx)(h.C,{onClick:w,className:"px-0 rounded-3xl bg-[rgba(51, 51, 51, 0.5)] font-hostGrotesk border border-solid border-[rgba(255,255,255,0.1)] backdrop-blur-[200px] shadow-[0px_20px_48px_0px_rgba(0,0,0,0.25)] w-[400px]",children:(0,s.jsx)(y,{t:t,fileKey:e.fileKey,category:e.category})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(u._,{className:(0,d.$)("flex items-center gap-1 rounded-full h-6 absolute top-2 right-2 pl-1 pr-2 z-1000",a?"bg-[rgba(255, 255, 255, 0.15)]":"bg-domo-overlay-black"),onPress:()=>x(!0),children:[(0,s.jsx)(p.uX,{color:a?"white":"#808080"}),(0,s.jsx)("span",{className:(0,d.$)("text-[10px] font-medium",a?"text-white":"text-white/50"),children:t("Tutorial")})]}),(0,s.jsx)(i.Y,{classNames:{base:"h-[540px] max-h-3/4 min-h-[unset] bg-transparent"},hideCloseButton:!0,isOpen:a,onOpenChange:x,placement:"bottom",size:"full",children:(0,s.jsx)(o.g,{children:a=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.c,{className:"justify-center py-2 rounded-t-2xl  bg-domo-grey-1",onClick:a,children:(0,s.jsx)("div",{className:"bg-[#7a7a7a] h-1 w-9 rounded-full"})}),(0,s.jsx)(n.h,{className:"p-0 flex flex-row justify-center md:justify-start w-full  bg-domo-grey-1",onClick:w,children:(0,s.jsx)(y,{t:t,fileKey:e.fileKey,category:e.category})})]})})})]})})}},34230:(e,t,a)=>{"use strict";a.d(t,{l:()=>f});var s=a(16911),l=a(5505),i=a(85940),o=a(90782),r=a(38680),n=a(110),d=a(19753),c=a(69782),u=a(24182),p=a.n(u),m=a(15958),g=a(66087),h=a(41484),v=a(77688);let f=e=>{let[t,a]=(0,g.useState)(!1),[u,f]=(0,g.useState)(!1),x=(0,h.useRouter)(),[y,b]=(0,g.useState)(!1),w=()=>{!y&&(b(!0),e.onEndTrial().then(t=>{0==t.code&&setTimeout(()=>{x.push(e.upgradePlanLink),b(!1)},1e3)}).catch(t=>{var a;(null==t?void 0:null===(a=t.response)||void 0===a?void 0:a.status)==404?x.push(e.upgradePlanLink):(b(!1),v.X.error({title:e.t("Network error, please try again later.")}))}))};return(0,s.jsx)(l.Y,{isDismissable:!1,isKeyboardDismissDisabled:!0,classNames:{base:"max-h-[calc(100%-4rem)]",closeButton:"top-3 right-3 w-7 h-7 min-w-0 min-h-0 z-20 p-1.5",wrapper:"h-svh overflow-hidden"},closeButton:(0,s.jsx)(d.US,{size:22}),isOpen:e.isOpen,onOpenChange:e.onOpenChange,scrollBehavior:"inside",size:"4xl","data-sentry-element":"Modal","data-sentry-component":"FreeTrailEndTrialModal","data-sentry-source-file":"free-trail-end-trail-modal.tsx",children:(0,s.jsx)(i.g,{className:(0,c.$)(p().className,"rounded-t-2xl rounded-b-none md:rounded-t-2xl md:rounded-b-3xl overflow-clip bg-domo-black-banner"),"data-sentry-element":"ModalContent","data-sentry-source-file":"free-trail-end-trail-modal.tsx",children:()=>(0,s.jsx)(o.h,{className:"p-0",children:(0,s.jsxs)(n.d,{title:e.title,imageLoader:e.imageLoader,children:[(0,s.jsx)("p",{className:"whitespace-pre-wrap",children:e.content}),(0,s.jsx)(m.A,{size:"sm",disableAnimation:!0,isSelected:t,onValueChange:a,classNames:{base:"gap-x-1 mt-auto max-w-full items-start",label:(0,c.$)("text-xs leading-4",u?"text-domo-red-dot":"text-white")},children:e.t("I agree that ending the trial early will result in immediate billing.")}),(0,s.jsx)(r._,{radius:"full",isLoading:y,className:"bg-white text-black text-sm font-semibold h-9 min-h-0 shrink-0",onPress:()=>{if(!t){f(!0);return}w()},children:e.t("Start Paid Subscription")})]})})})})}},40605:(e,t,a)=>{"use strict";a.d(t,{DomoYearOffBanner:()=>i,l:()=>l});var s=a(16911);let l=()=>({showYearOffBanner:!1}),i=e=>(0,s.jsx)(s.Fragment,{})},43949:(e,t,a)=>{"use strict";a.d(t,{P:()=>l});var s=a(16911);let l=e=>(0,s.jsx)("div",{className:"w-full h-full md:w-[375px] lg:w-[460px] xl:w-[500px] md:h-full px-2 pt-2 pb-2 lg:px-4 md:pb-5 flex flex-col shrink-0 gap-y-2","data-sentry-component":"ControlPanelWrapper","data-sentry-source-file":"control-panel-wrapper.tsx",children:e.children})},44241:(e,t,a)=>{"use strict";a.d(t,{E:()=>r});var s=a(16911),l=a(66087),i=a(69782),o=a(46039);let r=e=>{let{classNames:t,lng:a,children:r}=e;return(0,s.jsx)("main",{className:"mx-auto flex-grow w-full overflow-y-scroll md:overflow-y-clip scrollbar-hide relative z-10","data-sentry-component":"EditorV2Layout","data-sentry-source-file":"editor-next-layout.tsx",children:(0,s.jsxs)("div",{className:(0,i.$)("flex flex-row absolute top-0 left-0 right-0 bottom-0",null==t?void 0:t.container),children:[(0,s.jsx)(l.Suspense,{"data-sentry-element":"Suspense","data-sentry-source-file":"editor-next-layout.tsx",children:(0,s.jsx)(o.SideNavV2,{className:"hidden md:flex",lng:a,isCollapsed:!0,"data-sentry-element":"SideNavV2","data-sentry-source-file":"editor-next-layout.tsx"})}),r]})})}},46039:(e,t,a)=>{"use strict";a.d(t,{SideNavV2:()=>v});var s=a(16911),l=a(69782),i=a(11979),o=a(37666),r=a(91495),n=a(99068),d=a(96267),c=a.n(d),u=a(22567),p=a(19753),m=a(38680);let g=e=>(0,s.jsx)(m._,{as:c(),className:(0,l.$)("h-auto justify-start font-medium text-sm min-w-full w-full text-center",e.selected?"bg-white/15":"opacity-50",e.isCollapsed?"min-h-9 min-w-9 h-9 w-9 px-2":"px-4 py-2 min-h-9 h-9 data-[hover=true]:bg-white/15",e.className),href:e.href,radius:"full",startContent:(0,s.jsx)("div",{className:"shrink-0",children:e.icon}),variant:"light","data-sentry-element":"DomoButton","data-sentry-component":"SideNavV2NavButton","data-sentry-source-file":"side-nav-v2.tsx",children:e.title}),h=e=>{let{t}=(0,r.B)(e.lng,"common"),a=(0,n.usePathname)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g,{className:e.className,href:(0,o.ql)(e.lng),icon:(0,s.jsx)(u.default,{alt:"Nav - Home",height:20,src:i.vX,unoptimized:!0,width:20}),isCollapsed:e.isCollapsed,selected:a.endsWith("/home"),title:t("Home"),"data-sentry-element":"SideNavV2NavButton","data-sentry-source-file":"side-nav-v2.tsx"}),(0,s.jsx)(g,{className:e.className,href:(0,o.cB)(e.lng),icon:(0,s.jsx)(u.default,{alt:"Nav - User Asseets",height:20,src:i.KR,unoptimized:!0,width:20}),isCollapsed:e.isCollapsed,selected:a.endsWith("/user-assets"),title:t("Assets"),"data-sentry-element":"SideNavV2NavButton","data-sentry-source-file":"side-nav-v2.tsx"}),(0,s.jsx)(g,{className:e.className,href:(0,o.S)(e.lng),icon:(0,s.jsx)(u.default,{alt:"Nav - My Library",height:20,src:i.FP,unoptimized:!0,width:20}),isCollapsed:e.isCollapsed,selected:a.endsWith("/library"),title:t("My Library"),"data-sentry-element":"SideNavV2NavButton","data-sentry-source-file":"side-nav-v2.tsx"}),(0,s.jsx)(g,{className:e.className,href:(0,o.Qg)("video",e.lng),icon:(0,s.jsx)(u.default,{alt:"Nav - AI Video",height:20,src:p.zJ,unoptimized:!0,width:20}),isCollapsed:e.isCollapsed,selected:["/create/ai-video","/create/video","/create/animate","/create/move","/create/talking-avatar"].some(e=>a.endsWith(e)),title:t("AI Video"),"data-sentry-element":"SideNavV2NavButton","data-sentry-source-file":"side-nav-v2.tsx"}),(0,s.jsx)(g,{className:e.className,href:(0,o.Qg)("image",e.lng),icon:(0,s.jsx)(u.default,{alt:"Nav - AI Image",height:20,src:p._v,unoptimized:!0,width:20}),isCollapsed:e.isCollapsed,selected:["/create/ai-image","/create/gen","/create/restyle"].some(e=>a.endsWith(e)),title:t("AI Image"),"data-sentry-element":"SideNavV2NavButton","data-sentry-source-file":"side-nav-v2.tsx"}),(0,s.jsx)(g,{className:e.className,href:(0,o.Qg)("editing",e.lng),icon:(0,s.jsx)(u.default,{alt:"Nav - AI Editing",height:20,src:p.cq,unoptimized:!0,width:20}),isCollapsed:e.isCollapsed,selected:["/create/ai-editing","/create/upscale"].some(e=>a.endsWith(e)),title:t("AI Editing"),"data-sentry-element":"SideNavV2NavButton","data-sentry-source-file":"side-nav-v2.tsx"}),(0,s.jsx)(g,{className:e.className,href:(0,o.SI)(e.lng),icon:(0,s.jsx)(u.default,{alt:"Nav - Quick Apps",height:20,src:i.tS,unoptimized:!0,width:20}),isCollapsed:e.isCollapsed,selected:a.endsWith("/quick-apps"),title:t("Quick Apps"),"data-sentry-element":"SideNavV2NavButton","data-sentry-source-file":"side-nav-v2.tsx"})]})},v=e=>{var t;let a=null!==(t=e.isCollapsed)&&void 0!==t&&t;return e.lng,(0,s.jsx)("div",{className:(0,l.$)("relative w-60 bg-transparent shrink-0 z-20 h-full",a?"w-[60px] items-center":void 0,e.className),"data-sentry-component":"SideNavV2","data-sentry-source-file":"side-nav-v2.tsx",children:(0,s.jsx)("div",{className:(0,l.$)("flex flex-col gap-y-2 border border-transparent my-4 mx-1 py-2 transition-all duration-200 group px-2 overflow-y-scroll scrollbar-hide h-auto max-h-[calc(100%-36px)]",a?"w-[54px] rounded-3xl hover:border-white/10 hover:bg-domo-card-background/50 absolute left-0 top-0 hover:w-40 hover:backdrop-blur-xl":"w-full"),children:(0,s.jsx)(h,{lng:e.lng,isCollapsed:a,className:a?"group-hover:w-full":void 0,"data-sentry-element":"SideNavContent","data-sentry-source-file":"side-nav-v2.tsx"})})})}},46653:(e,t,a)=>{"use strict";a.d(t,{M:()=>s});var s=function(e){return e.AVATAR="AVATAR",e.VOICE_REPRODUCE="VOICE_REPRODUCE",e}({})},49309:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var s=a(16911),l=a(5505),i=a(85940),o=a(80595),r=a(69875),n=a(10135),d=a(19753),c=a(27262),u=a(65615);function p(e){let{t,accessToken:a,uid:p,isOpen:m,onClose:g,onSelected:h,acceptType:v,onOpenChange:f}=e;return(0,s.jsx)(l.Y,{classNames:{base:"w-full h-[66.67vh] md:w-[66.67vw] max-w-full max-h-full m-0 p-0 flex flex-col rounded-t-lg rounded-b-none !m-0"},hideCloseButton:!0,isOpen:m,onOpenChange:f,"data-sentry-element":"Modal","data-sentry-component":"AssetsSelectModal","data-sentry-source-file":"assets-select-modal.tsx",children:(0,s.jsx)(i.g,{"data-sentry-element":"ModalContent","data-sentry-source-file":"assets-select-modal.tsx",children:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.c,{className:"hidden md:flex flex-col p-0 bg-domo-grey-1",children:[(0,s.jsx)(d.US,{className:"self-end my-4 mr-6 hover:cursor-pointer",height:28,onClick:g,width:28}),(0,s.jsx)(c.y,{})]}),(0,s.jsx)(o.c,{className:"md:hidden bg-domo-grey-1 justify-center py-0 rounded-t-2xl",onClick:g,children:(0,s.jsx)(u.$,{})}),(0,s.jsx)(r.F,{accessToken:a,t:t,uid:p,children:()=>(0,s.jsx)(n.A,{acceptType:v,isInModal:!0,onAssetSelect:h})})]})})})}},49485:(e,t,a)=>{"use strict";a.d(t,{D:()=>i});var s=a(84681),l=a(8047);let i=(e,t)=>({uploadingProgress:{},fileEntries:{},selectedAssets:{},resetFileUploader:()=>{e((0,s.jM)(e=>{e.fileEntries={},e.selectedAssets={}}))},updateSelectedAsset:(a,i)=>{if(e((0,s.jM)(e=>{e.selectedAssets[a]=i})),i){var o;let{fileType:e,previewUrl:s}=(0,l.d)(i);t().setFileEntry(a,{url:null!=s?s:null,type:e,filePath:null!==(o=i.preview_url)&&void 0!==o?o:null,updateDate:new Date().toISOString()})}else t().setFileEntry(a,null)},setUploadingProgress:(t,a)=>{e((0,s.jM)(e=>{e.uploadingProgress={...e.uploadingProgress,[t]:a}}))},setFileEntry:(t,a)=>{e((0,s.jM)(e=>{e.fileEntries={...e.fileEntries,[t]:a}}))},resetFileEntry:(e,a)=>{void 0!==a?t().setFileEntry(e,{url:a.url,updateDate:new Date().toISOString(),filePath:null,type:a.type}):t().setFileEntry(e,null),t().setUploadingProgress(e,null)},updateFileUrl:(t,a)=>{e((0,s.jM)(e=>{e.fileEntries={...e.fileEntries,[t]:e.fileEntries[t]?{...e.fileEntries[t],url:a}:null}}))}})},53486:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PostingErrorModals:()=>k});var s=a(16911),l=a(53497),i=a(52050),o=a(66087),r=a(40261);let n=e=>(0,s.jsx)(r.l,{hideCancel:!0,isOpen:e.isOpen,okButton:{title:e.t("OK")},onClickOk:()=>!0,onOpenChange:e.onOpenChange,t:e.t,title:e.t("AI Tools Access Suspended"),"data-sentry-element":"DomoAlertModal","data-sentry-component":"DisputeRefuseModal","data-sentry-source-file":"dispute-refuse-modal.tsx",children:e.t("Due to a payment dispute under investigation, this account cannot use AI tools.")});var d=a(6182),c=a(43945),u=a(96267),p=a.n(u);let m=e=>{let t=(0,s.jsxs)(c.x,{i18nKey:"modal.insufficientBalanceModalOnlyFast",t:e.t,children:["You currently have insufficient credits. You can\xa0",(0,s.jsx)(p(),{className:"text-wrap text-[#40A5FF]",href:e.buyCreditsLink,target:"_blank",children:"buy more credits"}),"\xa0 to continue."]}),a=e.t("Buy credits"),l=e.buyCreditsLink;return(0,s.jsx)(r.l,{defaultOpen:e.defaultOpen,isOpen:e.isOpen,okButton:{title:a,href:l,as:p(),target:"_blank"},onOpenChange:e.onOpenChange,t:e.t,title:e.t("Insufficient Credits"),"data-sentry-element":"DomoAlertModal","data-sentry-component":"InsufficientBalanceModalOnlyFast","data-sentry-source-file":"insufficient-balance-modal.tsx",children:t})},g=e=>{let t,a,l;switch(e.vipLevel){case d.Qm.BASIC:t=(0,s.jsxs)(c.x,{i18nKey:"modal.insufficientBalanceModalBasic",t:e.t,children:["You currently have insufficient credits. You can\xa0",(0,s.jsx)(p(),{className:"text-wrap text-[#40A5FF]",href:e.upgradePlanLink,target:"_blank",children:"upgrade your plan"}),"\xa0 or\xa0",(0,s.jsx)(p(),{className:"text-wrap text-[#40A5FF]",href:e.buyCreditsLink,target:"_blank",children:"buy more credits"}),"\xa0 to continue."]});break;case d.Qm.STANDARD:t=(0,s.jsxs)(c.x,{i18nKey:"modal.insufficientBalanceModalStandard",t:e.t,children:["You currently have insufficient credits. You can\xa0",(0,s.jsx)(p(),{className:"text-wrap text-[#40A5FF]",href:e.upgradePlanLink,target:"_blank",children:"upgrade your plan"}),"\xa0 or\xa0",(0,s.jsx)(p(),{className:"text-wrap text-[#40A5FF]",href:e.buyCreditsLink,target:"_blank",children:"buy more credits"}),"\xa0 to continue.You can also\xa0",(0,s.jsx)("span",{className:"cursor-pointer text-wrap text-[#40A5FF]",onClick:e.onClickRelaxMode,children:"switch to relax mode"}),"."]});break;case d.Qm.PRO:t=(0,s.jsxs)(c.x,{i18nKey:"modal.insufficientBalanceModalPro",t:e.t,children:["You currently have insufficient credits. You can\xa0",(0,s.jsx)(p(),{className:"text-wrap text-[#40A5FF]",href:e.buyCreditsLink,target:"_blank",children:"buy more credits"}),"\xa0 to continue.You can also\xa0",(0,s.jsx)("span",{className:"cursor-pointer text-wrap text-[#40A5FF]",onClick:e.onClickRelaxMode,children:"switch to relax mode"}),"."]}),a=e.t("Buy credits"),l=e.buyCreditsLink;break;default:t=(0,s.jsxs)(c.x,{i18nKey:"modal.insufficientBalanceModalNormal",t:e.t,children:["You currently have insufficient credits. You can\xa0",(0,s.jsx)(p(),{className:"text-wrap text-[#40A5FF]",href:e.upgradePlanLink,target:"_blank",children:"upgrade your plan"}),"\xa0 to get more credits."]})}return a||(a=e.t("Upgrade")),l||(l=e.upgradePlanLink),(0,s.jsx)(r.l,{defaultOpen:e.defaultOpen,isOpen:e.isOpen,okButton:{title:a,href:l,as:p(),target:"_blank"},onOpenChange:e.onOpenChange,t:e.t,title:e.t("Insufficient Credits"),"data-sentry-element":"DomoAlertModal","data-sentry-component":"InsufficientBalanceModal","data-sentry-source-file":"insufficient-balance-modal.tsx",children:t})},h=e=>{let t,a,l,i,o;e.vipLevel===d.Qm.PRO?(t=e.t("You have reached the maximum number of concurrent tasks allowed. Please wait before posting a new task."),a=e.t("OK"),i=()=>!0,o=!0):(t=(0,s.jsxs)(c.x,{i18nKey:"modal.queueLimitModal",t:e.t,children:["You have reached the maximum number of concurrent tasks allowed. Please wait before posting a new task, or you can\xa0",(0,s.jsx)(p(),{className:"text-wrap text-[#40A5FF]",href:e.upgradePlanLink,target:"_blank",children:"upgrade your plan"}),"\xa0 to continue."]}),l=e.upgradePlanLink,o=!1),a||(a=e.t("Upgrade"));let n=l?{title:a,href:l,as:p(),target:"_blank"}:{title:a};return(0,s.jsx)(r.l,{defaultOpen:e.defaultOpen,hideCancel:o,isOpen:e.isOpen,okButton:n,onClickOk:i,onOpenChange:e.onOpenChange,t:e.t,title:e.t("Task Limit Reached"),"data-sentry-element":"DomoAlertModal","data-sentry-component":"QueueLimitAlertModal","data-sentry-source-file":"queue-limit-alert-modal.tsx",children:t})};var v=a(70878);let f=e=>{let t=e.t;return(0,s.jsx)(r.l,{defaultOpen:e.defaultOpen,hideCancel:!0,isOpen:e.isOpen,okButton:{title:t("OK")},onClickOk:()=>!0,onOpenChange:e.onOpenChange,t:t,title:t("Restricted Request Detected"),"data-sentry-element":"DomoAlertModal","data-sentry-component":"RestrictedRequestAlertModal","data-sentry-source-file":"restricted-request-alert-modal.tsx",children:(0,s.jsxs)(c.x,{i18nKey:"error.restricted-request",t:t,"data-sentry-element":"Trans","data-sentry-source-file":"restricted-request-alert-modal.tsx",children:["Apologies, but our AI moderator has identified this request as potentially not in line with our community standards:",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"NOT ALLOWED",(0,s.jsx)("br",{}),"Disrespectful, misleading, or harmful portrayals of public figures or events, or content with the potential to mislead. Hate speech, explicit violence, or real-world violence. Nudity or unwarranted overt sexualization involving public figures. Content that might be seen as culturally insensitive.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Our AI system isn't perfect. If you believe it has mistakenly rejected a valid request, please\xa0",(0,s.jsx)(v.h,{className:"text-[#40A5FF]",href:e.discordTicketChannelLink,target:"_blank","data-sentry-element":"HeroUILink","data-sentry-source-file":"restricted-request-alert-modal.tsx",children:"Contact Us"}),". We'll review and work to improve our system's performance."]})})};var x=a(16690),y=a(34230);let b=e=>(0,s.jsx)(y.l,{onEndTrial:e.onEndTrial,title:e.t("Switch to Paid & Unlock More Credits!"),isOpen:e.isOpen,onOpenChange:e.onOpenChange,t:e.t,upgradePlanLink:e.upgradePlanLink,imageLoader:e.imageLoader,content:e.t("You can end your trial early and switch to a paid subscription to get more credits. Clicking the button below will instantly activate the paid subscription, please confirm if you wish to continue."),"data-sentry-element":"FreeTrailEndTrialModal","data-sentry-component":"FreeTrailInsufficientBalanceModal","data-sentry-source-file":"free-trail-insufficient-balance-modal.tsx"}),w=e=>(0,s.jsx)(r.l,{hideCancel:!0,isOpen:e.isOpen,okButton:{title:e.t("OK")},onClickOk:()=>!0,onOpenChange:e.onOpenChange,t:e.t,title:e.t("AI Tools Access Suspended"),"data-sentry-element":"DomoAlertModal","data-sentry-component":"TOSRefuseModal","data-sentry-source-file":"tos-refuse-modal.tsx",children:e.t("Due to violation of community guidelines, this account cannot use AI tools.")}),C=e=>(0,s.jsx)(r.l,{hideCancel:!0,isOpen:e.isOpen,okButton:{title:e.t("OK")},onClickOk:()=>!0,onOpenChange:e.onOpenChange,t:e.t,title:e.t("AI Tools Access Suspended"),"data-sentry-element":"DomoAlertModal","data-sentry-component":"CommonRefuseModal","data-sentry-source-file":"common-refuse-modal.tsx",children:e.t("This account has been blocked from using AI tools.")}),k=e=>{var t,a,r;let{isOpen:d,onOpen:c,onClose:u,onOpenChange:p}=(0,l.j)();(0,o.useEffect)(()=>{switch(e.errorCode){case i.GN.CREDITS_INSUFFICIENT_BALANCE:case i.GN.CREDITS_INSUFFICIENT_BALANCE_ONLY_FAST:case i.GN.QUEUE_LIMIT_REACHED:case i.GN.USER_REFUSE_DISPUTE:case i.GN.USER_ACCOUNT_BLOCKED:case i.GN.USER_ACCOUNT_TOS_BLOCKED:case i.GN.USER_ACCOUNT_DISPUTE_BLOCKED:case i.GN.RESTRICTED_REQUEST:case i.GN.VIP_LEVEL_REQUIRED:c()}},[e.errorCode]);let v=t=>{t||setTimeout(()=>{e.onClose()},200),p()};switch(e.errorCode){case i.GN.CREDITS_INSUFFICIENT_BALANCE:if(e.isTrial)return(0,s.jsx)(b,{isOpen:d,onOpenChange:v,t:e.t,upgradePlanLink:e.links.upgradePlan,imageLoader:e.imageLoader,onEndTrial:e.onEndTrial});return(0,s.jsx)(g,{buyCreditsLink:e.links.buyCredits,isOpen:d,onClickRelaxMode:()=>{e.onClickRelaxMode&&e.onClickRelaxMode(),u()},onOpenChange:v,t:e.t,upgradePlanLink:e.links.upgradePlan,vipLevel:null!==(t=e.vip_level)&&void 0!==t?t:null});case i.GN.CREDITS_INSUFFICIENT_BALANCE_ONLY_FAST:if(e.isTrial)return(0,s.jsx)(b,{isOpen:d,onOpenChange:v,t:e.t,upgradePlanLink:e.links.upgradePlan,imageLoader:e.imageLoader,onEndTrial:e.onEndTrial});return(0,s.jsx)(m,{buyCreditsLink:e.links.buyCredits,isOpen:d,onOpenChange:v,t:e.t});case i.GN.RESTRICTED_REQUEST:return(0,s.jsx)(f,{discordTicketChannelLink:e.links.discordTicketChannel,isOpen:d,onOpenChange:v,t:e.t});case i.GN.QUEUE_LIMIT_REACHED:return(0,s.jsx)(h,{isOpen:d,onOpenChange:v,t:e.t,upgradePlanLink:e.links.upgradePlan,vipLevel:null!==(a=e.vip_level)&&void 0!==a?a:null});case i.GN.USER_REFUSE_DISPUTE:case i.GN.USER_ACCOUNT_DISPUTE_BLOCKED:return(0,s.jsx)(n,{isOpen:d,onOpenChange:v,t:e.t});case i.GN.USER_ACCOUNT_TOS_BLOCKED:return(0,s.jsx)(w,{isOpen:d,onOpenChange:v,t:e.t});case i.GN.USER_ACCOUNT_BLOCKED:return(0,s.jsx)(C,{isOpen:d,onOpenChange:v,t:e.t});case i.GN.USER_NAME_UNAVAILABLE:case i.GN.OAUTH_DUPLICATE_BINDING:case i.GN.INCONSISTENT_ACCOUNTS:break;case i.GN.VIP_LEVEL_REQUIRED:return(0,s.jsx)(x.u,{onEndTrial:e.onEndTrial,vipLevel:null!==(r=e.vip_level)&&void 0!==r?r:null,isTrial:e.isTrial,imageLoader:e.imageLoader,isOpen:d,onOpenChange:v,t:e.t,upgradePlanLink:e.links.upgradePlan})}return null}},57099:(e,t,a)=>{"use strict";a.d(t,{T:()=>s});var s=function(e){return e.FAST="FAST",e.RELAX="RELAX",e}({})},61450:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,P:()=>u});var s=a(16911),l=a(11979),i=a(96267),o=a.n(i),r=a(19753),n=a(38680),d=a(66087),c=function(e){return e[e.UPSCALE=0]="UPSCALE",e[e.ADD_TO_ASSETS=1]="ADD_TO_ASSETS",e}({});let u=e=>{var t;let[a,i]=(0,d.useState)(!1),[c,u]=(0,d.useState)(!1),p="min-w-9 min-h-9 w-9 h-9 shrink-0 bg-[#4A4E57]/40 data-[hover]:bg-[#4A4E57]/40 backdrop-blur";return(0,s.jsxs)("div",{className:"absolute bottom-[122px] left-1/2 -translate-x-1/2 h-9 flex flex-row gap-x-2 z-20","data-sentry-component":"PostDetailContentControlMobileView","data-sentry-source-file":"post-detail-content-control-mobile-view.tsx",children:[e.assetDownloadUrl?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n._,{"aria-label":"Download",as:o(),className:p,href:e.assetDownloadUrl,isIconOnly:!0,prefetch:!1,size:"sm",radius:"full",target:"_blank",variant:"light",children:(0,s.jsx)(r.s3,{color:"white",size:28})}),(0,s.jsx)(n._,{"aria-label":"Add to assets",className:p,isIconOnly:!0,isDisabled:a,onPress:()=>{i(!0),e.onClickMenu(1).finally(()=>{i(!1)})},size:"sm",radius:"full",target:"_blank",variant:"light",children:(0,s.jsx)(r.UL,{color:"white",size:28})})]}):null,!(null===(t=e.featuresDisabled)||void 0===t?void 0:t.upscale)&&(0,s.jsx)(n._,{"aria-label":"Upscale",className:p,isIconOnly:!0,isDisabled:c,onPress:()=>{u(!0),e.onClickMenu(0).finally(()=>{u(!1)})},size:"sm",radius:"full",variant:"light",children:(0,s.jsx)(l.s$,{color:"white",size:28})})]})}},65615:(e,t,a)=>{"use strict";a.d(t,{$:()=>l});var s=a(16911);let l=()=>(0,s.jsx)("div",{className:"h-5 w-full flex flex-row items-center justify-center","data-sentry-component":"DrawerDragBar","data-sentry-source-file":"drawer-drag-bar.tsx",children:(0,s.jsx)("span",{className:"h-1 w-9 bg-domo-grey-8 rounded-full"})})},65924:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PostDetailMobileView:()=>T});var s=a(16911),l=a(42637),i=a.n(l),o=a(66087),r=a(38920),n=a(67659);a(38788),a(87810),a(82984);var d=a(69782),c=a(44649),u=a.n(c),p=a(17274),m=a.n(p),g=a(75500),h=a(4732),v=a(4873),f=a(27503),x=a(66618),y=a.n(x);let b=(0,o.forwardRef)((e,t)=>{var a,l;let i,{post:c,t:p,videoJsPlayerOptional:x,onSelectAssetIndex:b,loading:w}=e,C=(0,h.F)(null==c?void 0:c.generate_info),k=(0,v.rO)(null!==(a=null==c?void 0:c.generate_info)&&void 0!==a?a:null),j=c?(0,f.r)(c):[],N=e=>{(!(e<0)||!(e>=j.length))&&c&&b(e)};return((0,o.useEffect)(()=>{N(0)},[null==c?void 0:c.assets,null==c?void 0:c.generated_assets]),w)?null:(i=k&&c&&c.assets.length<1?(0,s.jsx)(r.qr,{children:(0,s.jsxs)("div",{className:"h-full flex items-center justify-center",children:[(0,s.jsxs)("div",{className:(0,d.$)("font-semibold text-xl text-white",null==C?m().dotLoading:void 0,u().className),children:[p("Generating"),"\xa0",null!=C&&"".concat(Math.trunc(100*C),"%")]}),(null===(l=c.generate_info)||void 0===l?void 0:l.prediction_time)?(0,s.jsx)("div",{className:"",children:"".concat(p("Avg. waiting")," ").concat(c.generate_info.prediction_time)}):null]})},"".concat(c.id,"-0")):c?j.map((e,t)=>(0,s.jsx)(r.qr,{children:(0,s.jsx)(g.X,{asset:e,createAt:c.created_at,generateInfo:c.generate_info,index:t,t:p,videoJsPlayerOptional:x})},"".concat(c.id,"-").concat(t))):null,(0,s.jsx)(r.RC,{allowTouchMove:!0,className:(0,d.$)("size-full",y().main),keyboard:{enabled:!0,onlyInViewport:!0},modules:[n.dK,n.Vx,n.s3],noSwipingClass:"vjs-control-bar",onSlideChange:e=>{N(e.activeIndex)},pagination:{clickable:!0},ref:t,"data-sentry-element":"Swiper","data-sentry-component":"PostDetailContentMobileView","data-sentry-source-file":"post-detail-content-mobile-view.tsx",children:i}))});var w=a(91495),C=a(68157),k=a(52137),j=a(40386),N=a(73522),_=a(5066),A=a(23693);let I=e=>{let{before:t,after:a,t:l}=e;return(0,s.jsx)(N.r,{after:{...a,poster:(0,_.$D)(a)},afterText:l("Upscale After"),before:{...t,poster:(0,_.$D)(t)},beforeText:l("Upscale Before"),classesName:{wrapper:"h-0 flex-grow",control:"hidden md:flex"},hideVideoControlsInMobile:!0,onClickDownload:()=>{(0,A.x)((0,j.Uv)(a.url))},type:t.type,"data-sentry-element":"AssetsComparer","data-sentry-component":"PostDetailCompareContentMobileView","data-sentry-source-file":"post-detail-compare-content-mobile-view.tsx"})};var P=a(8607),O=a(38680),E=a(11979);let D=e=>{var t;let a=null!==(t=e.title)&&void 0!==t?t:(()=>{if(!e.isGenerateCompleted)return null;switch(e.assetType){case"image":if(e.isOutputAsset)return e.t("Output image");return e.t("Input image");case"video":if(e.isOutputAsset)return e.t("Output video");return e.t("Input video");case"audio":if(e.isOutputAsset)return e.t("Output audio");return e.t("Input audio");default:return null}})();return(0,s.jsxs)("div",{className:"flex flex-row items-center justify-center h-[52px] px-3 shrink-0","data-sentry-component":"PostDetailMobileNavigationBar","data-sentry-source-file":"post-detail-mobile-navigation-bar.tsx",children:[(0,s.jsx)(O._,{"aria-label":"Back",className:"min-w-7 w-7 h-7 shrink-0 absolute left-3",isIconOnly:!0,onPress:e.onClose,size:"sm",variant:"light","data-sentry-element":"DomoButton","data-sentry-source-file":"post-detail-mobile-navigation-bar.tsx",children:(0,s.jsx)(E.Z3,{className:"shrink-0",size:28,"data-sentry-element":"BackIcon","data-sentry-source-file":"post-detail-mobile-navigation-bar.tsx"})}),(0,s.jsx)("div",{className:(0,d.$)("font-semibold text-base leading-[21px] h-[22px]",u().className),children:a})]})};var S=a(61450);let T=e=>{var t,a,l,r,n,d,c,u,p,m,g,h,v,x,y,N,_,A;let O,E,T,M;let{t:R}=(0,w.B)(e.lng,"common"),V=(0,o.useRef)(null),L=(null===(a=e.post)||void 0===a?void 0:null===(t=a.generate_info)||void 0===t?void 0:t.status)===C.I.COMPLETION,U=e.selectedAssetIndex<(null!==(N=null===(l=e.post)||void 0===l?void 0:l.generated_assets)&&void 0!==N?N:[]).length,F=(e.post?(0,f.r)(e.post):[])[e.selectedAssetIndex],G=!0;if((null===(r=e.featuresDisabled)||void 0===r?void 0:r.upscale)==!0||(null===(n=e.post)||void 0===n?void 0:n.category)==k.M.UPSCALE?G=!0:(null===(d=e.post)||void 0===d?void 0:d.category)==k.M.VIDEO?G=!(null!=F&&((t,a)=>{var s,l;return(null===(l=e.post)||void 0===l?void 0:null===(s=l.generate_info)||void 0===s?void 0:s.status)===C.I.COMPLETION&&0==a.findIndex(e=>e.url===t.url)})(F,null!==(A=null===(_=e.post)||void 0===_?void 0:_.generated_assets)&&void 0!==A?A:[])):((null===(c=e.post)||void 0===c?void 0:c.category)===k.M.RESTYLE||(null===(u=e.post)||void 0===u?void 0:u.category)===k.M.GEN)&&(G=!(0,j.Ix)(e.post,e.selectedAssetIndex)),(null===(p=e.post)||void 0===p?void 0:p.category)==k.M.UPSCALE&&(null===(m=e.post.generate_info)||void 0===m?void 0:m.status)===C.I.COMPLETION){let t=e.post.assets[0],a=e.post.assets[1];F=t,O=R("video"==t.type?"Upscaled Video":"Upscaled Image"),E=(0,s.jsx)(I,{after:t,before:a,t:R})}else E=(0,s.jsx)(b,{loading:e.loading,onSelectAssetIndex:t=>{e.onSelectAssetIndex(t)},post:e.post,ref:V,t:R});T=null==F?void 0:F.type;let B=F?(0,j.Uv)(F.url):null;return(null===(g=e.post)||void 0===g?void 0:g.category)==k.M.UPSCALE&&(M=R("video"==F.type?"Upscaled Video":"Upscaled Image")),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i(),{id:"e6d938bcd47949fa",children:".mobile-vjs{}.mobile-vjs .vjs-control-bar{opacity:0!important}.mobile-vjs .vjs-poster{pointer-events:none}"}),(0,s.jsxs)("div",{className:"jsx-e6d938bcd47949fa size-full max-h-full bg-background md:hidden relative mobile-vjs flex flex-col",children:[(0,s.jsx)(D,{t:R,isGenerateCompleted:L,isOutputAsset:U,assetType:T,title:O,onClose:e.onClose,"data-sentry-element":"PostDetailMobileNavigationBar","data-sentry-source-file":"post-detail-mobile-view.tsx"}),E,(0,s.jsx)(S.P,{isOutputAsset:U,assetDownloadUrl:B,currentUid:e.uid,featuresDisabled:{upscale:G,submitShowcase:(null===(h=e.featuresDisabled)||void 0===h?void 0:h.submitShowcase)||(null===(v=e.post)||void 0===v?void 0:v.category)==k.M.UPSCALE},loading:e.loading,onClickMenu:t=>e.onClickContentMenu(t,e.selectedAssetIndex,F),post:e.post,t:R,"data-sentry-element":"PostDetailContentControlMobileView","data-sentry-source-file":"post-detail-mobile-view.tsx"}),(0,s.jsx)(P.Y,{isOutputAsset:U,asset:F,currentUid:e.uid,featuresDisabled:{delete:null===(x=e.featuresDisabled)||void 0===x?void 0:x.delete,regen:(null===(y=e.post)||void 0===y?void 0:y.category)===k.M.REAL},loading:e.loading,onClickMenu:e.onClickMenu,post:e.post,t:R,title:M,"data-sentry-element":"PostDetailPostControlMobileView","data-sentry-source-file":"post-detail-mobile-view.tsx"})]})]})}},66618:e=>{e.exports={main:"swiper-navigation-v2_main__Oxhb0"}},71511:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var s=a(16911),l=a(69782),i=a(19753);let o=e=>{let t=(0,l.$)("size-[60px] md:size-20",e.className);return"video"===e.type?(0,s.jsx)(i.CP,{className:t}):"image"===e.type?(0,s.jsx)(i.F,{className:t}):"audio"===e.type?(0,s.jsx)(i.dH,{className:t}):(0,s.jsx)(i.fy,{className:t,"data-sentry-element":"UploadFileIcon","data-sentry-component":"FileEmptyIcon","data-sentry-source-file":"file-empty-icon.tsx"})}},71848:(e,t,a)=>{"use strict";a.d(t,{V:()=>i});var s=a(16911),l=a(69782);let i=e=>{var t;return(0,s.jsxs)("div",{className:(0,l.$)("flex flex-col gap-y-2 shrink-0",e.className),"data-sentry-component":"ControlInputSection","data-sentry-source-file":"control-input-section.tsx",children:[e.title?(0,s.jsx)("p",{className:(0,l.$)("font-bold text-sm font-hostGrotesk",null===(t=e.classNames)||void 0===t?void 0:t.title),children:e.title}):null,e.children]})}},72589:(e,t,a)=>{"use strict";a.d(t,{H:()=>r});var s=a(16911),l=a(85810),i=a(4873),o=a(69782);let r=()=>{let e=(0,l.i)(e=>{var t,a;return null!==(a=null===(t=e.posts)||void 0===t?void 0:t.some(e=>!e.deleting&&(0,i.rO)(e.generate_info)))&&void 0!==a&&a});return(0,s.jsxs)("div",{className:(0,o.$)("absolute top-0 left-0 right-0 bottom-0 overflow-hidden",e?"":"hidden"),"data-sentry-component":"EditorGeneratingEffect","data-sentry-source-file":"editor-generating-effect.tsx",children:[(0,s.jsx)("div",{className:"absolute rotate-45 animate-[editorBg_10s_linear_infinite] opacity-15 rounded-full",style:{width:"100svw",height:"60svw",background:"radial-gradient(ellipse at center,rgb(7,255,188,0.8) 0%,rgb(7,255,188,0.7) 20%,rgb(7,255,188,0.6) 30%,rgb(0,0,0) 70%)"}}),(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0",style:{backgroundImage:'url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2032%2032%22%3E%3Cstyle%3E.st0%7Bfill%3Anone%3Bstroke%3A%23FFFFFF%3Bstroke-width%3A1.75%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-miterlimit%3A10%3B%7D%3C%2Fstyle%3E%3Cline%20class%3D%22st0%22%20x1%3D%227.27%22%20y1%3D%2216%22%20x2%3D%2224.73%22%20y2%3D%2216%22%2F%3E%3Cline%20class%3D%22st0%22%20x1%3D%2216%22%20y1%3D%2224.73%22%20x2%3D%2216%22%20y2%3D%227.27%22%2F%3E%3C%2Fsvg%3E")',backgroundRepeat:"repeat",backgroundSize:"13px",mixBlendMode:"overlay",backgroundPosition:"center"}})]})}},73117:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var s=a(52137),l=a(41484),i=a(10286),o=a(97326),r=a(66087),n=a(37666),d=a(46200),c=a(36669);let u=(e,t)=>{let a=null;{let s=t.get(i.vi);if(s){let t="re-gen-".concat(s),l=window.sessionStorage.getItem(t);if(l){let s=JSON.parse(l);s.category==e&&(a=s,window.sessionStorage.removeItem(t))}}if(t.get(i.dS)){let s=(0,o.ez)(t,e);s&&s.category==e&&(a=s,window.sessionStorage.removeItem(i.dS))}}return a},p=e=>{for(let t of c.eo)if(e.startsWith("/".concat(t,"/")))return t;return null},m=(e,t,a,i,o,c,m,g)=>{let{data:h,status:v}=(0,d.useSession)(),f=null==h?void 0:h.accessToken,x=(0,l.usePathname)(),y=(0,l.useRouter)(),b=(0,l.useSearchParams)(),w=(0,r.useRef)(void 0),C=(0,r.useRef)(null);(0,r.useEffect)(()=>{var t;let s=null!==(t=(0,n.aG)(x,e))&&void 0!==t?t:i;if(Object.keys(n.bt).forEach(e=>{x.includes(e)&&(C.current={category:s,path:x})}),o.includes(s)||(s=i),a(s),g(!0),void 0===w.current){let e=u(s,b);e?(w.current={category:s,create:e.create},y.replace(x,{scroll:!1})):w.current=null}},[]),(0,r.useEffect)(()=>{var e,t;"loading"!=v&&(f?c(f,null!==(e=w.current)&&void 0!==e?e:null):c(null,null!==(t=w.current)&&void 0!==t?t:null),w.current=null)},[f,v]),(0,r.useEffect)(()=>{let e;if(m){switch(t){case s.M.VIDEO:e="/create/video";break;case s.M.ANIMATE:e="/create/animate";break;case s.M.MOVE:e="/create/move";break;case s.M.TALKING_AVATAR:e="/create/talking-avatar";break;case s.M.GEN:e="/create/gen";break;case s.M.UPSCALE:e="/create/upscale";break;case s.M.RESTYLE:e="/create/restyle";case s.M.REAL:}if(C.current&&t==C.current.category&&(e=C.current.path),e&&!x.endsWith(e)){b.size>0&&(e="".concat(e,"?").concat(b));let t=p(x);t&&(e="/".concat(t).concat(e)),y.replace(e,{scroll:!1})}}},[t,x,m])}},73712:(e,t,a)=>{"use strict";a.d(t,{t:()=>s});let s=(0,a(66087).createContext)(void 0)},75232:(e,t,a)=>{"use strict";a.d(t,{y:()=>s});var s=function(e){return e.VIDEO_MORE="VIDEO_MORE",e.PROMPT_MORE="PROMPT_MORE",e}({})},76069:(e,t,a)=>{"use strict";a.d(t,{C:()=>s});let s={name:"DomoAI: Video-to-Video, Style Transfer, AI Video Tool",description:"AI video editor that converts videos, text, and images into animation. Make your character move as you want.",image:"https://imgo.domoai.app/web/domoai-og-image.jpg",links:{youtube:"https://www.youtube.com/channel/UCnzASu1FtKr1JzMs7LgiI2g",twitter:"https://twitter.com/DomoAI_",discord:"https://discord.gg/domoai",discordTicketChannel:"https://discord.com/channels/1146459660770099341/1146500886932234263",discordFAQ:"https://discord.com/channels/1146459660770099341/1183618261103935538"}}},77697:(e,t,a)=>{"use strict";a.d(t,{R:()=>p});var s=a(16911),l=a(69782),i=a(27262),o=a(5066),r=a(22567),n=a(26235),d=a(85943),c=a(38680);let u=e=>{let t;if("video"===e.asset.type||"image"===e.asset.type){let a;"video"===e.asset.type?a=(0,o.$D)(e.asset,o.bO.GALLERY_NAV):"image"===e.asset.type&&(a=(0,o.Vj)(e.asset.url,o.bO.GALLERY_NAV)),t=(0,s.jsx)(r.default,{unoptimized:!0,alt:"Asset Preview Nav",className:"size-12 object-cover",sizes:"100%",fill:!0,src:a},a)}else"audio"===e.asset.type&&(t=(0,s.jsx)(n.r,{imageLoader:d.S,classNames:{wrapper:"size-full flex justify-center items-center",img:"!size-6"}}));return(0,s.jsx)(c._,{className:(0,l.$)("min-w-12 min-h-12 h-12 w-12 aspect-square p-0 rounded overflow-clip border-1.5 md:border-2",e.selected?"border-domo-green":"border-transparent"),onPress:e.onPress,variant:"light","data-sentry-element":"DomoButton","data-sentry-component":"PostPreviewGalleryNavigationItem","data-sentry-source-file":"post-preview-gallery-navigation.tsx",children:t})},p=e=>{var t,a,o;return(0,s.jsxs)("div",{className:(0,l.$)("h-12 w-full flex flex-row items-center gap-x-1",e.className),"data-sentry-component":"PostPreviewGalleryNavigation","data-sentry-source-file":"post-preview-gallery-navigation.tsx",children:[null===(t=e.assets)||void 0===t?void 0:t.left.map((t,a)=>(0,s.jsx)(u,{asset:t,onPress:()=>{e.onPress(a)},selected:e.selectedAssetIndex===a},"item-asset-nav-l-".concat(a))),(null===(a=e.assets)||void 0===a?void 0:a.right.length)?(0,s.jsx)(i.y,{className:"mx-1 h-8",orientation:"vertical"}):null,null===(o=e.assets)||void 0===o?void 0:o.right.map((t,a)=>{var l,i;let o=(null!==(i=null===(l=e.assets)||void 0===l?void 0:l.left.length)&&void 0!==i?i:0)+a;return(0,s.jsx)(u,{asset:t,onPress:()=>{e.onPress(o)},selected:e.selectedAssetIndex===o},"item-asset-nav-r-".concat(a))})]})}},78677:(e,t,a)=>{"use strict";a.d(t,{i:()=>i});var s=a(16911),l=a(1715);let i=e=>{let{selectedMode:t,onSelectMode:a,items:i}=e;return(0,s.jsx)("div",{className:"w-full shrink-0 h-10 md:h-[50px] bg-domo-card-background/50 border rounded-full border-white/10 px-4 lg:px-7 overflow-x-scroll scrollbar-hide overflow-y-hidden backdrop-blur-3xl","data-sentry-component":"ControlPanelTabs","data-sentry-source-file":"control-panel-tabs.tsx",children:(0,s.jsx)(l.C,{items:i,selectedKey:t,onSelectKey:a,classNames:{selectedTab:"text-domo-green",cursor:"bg-domo-green w-9 bottom-[-2px] !rounded-full",tab:"px-1 h-8 md:h-[42px] text-[12px] lg:text-[14px]",tabList:"md:h-12 font-hostGrotesk"},"data-sentry-element":"RadioButtonGroupViewV2","data-sentry-source-file":"control-panel-tabs.tsx"})})}},79853:(e,t,a)=>{"use strict";a.d(t,{j:()=>s});let s=e=>{let t=new Date(0);return t.setSeconds(e),t.toISOString().substring(15,19)}},79858:(e,t,a)=>{"use strict";a.d(t,{default:()=>n,u:()=>r});var s=a(16911),l=a(66087),i=a(46200),o=a(48155);let r=(0,l.createContext)({balance:null,setBalance:()=>{},isRequestingBalance:!1,setBalanceDirty:()=>{},isBalanceDirty:!1,refreshBalanceIfNeeded:()=>{},refreshBalanceForce:()=>{}}),n=function(e){let{children:t}=e,[a,n]=(0,l.useState)(null),[d,c]=(0,l.useState)(!1),[u,p]=(0,l.useState)(!1),{data:m}=(0,i.useSession)(),g=null==m?void 0:m.accessToken,h=e=>{if(!e){n(null);return}p(!0),o.QJ.webUser.fetchBalance(e).then(e=>{n(e),c(!1)}).finally(()=>{p(!1)})},v=()=>{d&&h(g)};return(0,l.useEffect)(()=>{h(g)},[g]),(0,l.useEffect)(()=>{v()},[d]),(0,s.jsx)(r.Provider,{value:{balance:a,setBalance:n,isRequestingBalance:u,setBalanceDirty:()=>{c(!0)},isBalanceDirty:d,refreshBalanceIfNeeded:v,refreshBalanceForce:()=>{h(g)}},"data-sentry-element":"unknown","data-sentry-component":"BalanceProvider","data-sentry-source-file":"balance-provider.tsx",children:t})}},81190:(e,t,a)=>{"use strict";a.d(t,{U:()=>o});var s=a(66087),l=a(6371),i=a(73712);let o=e=>{let t=(0,s.useContext)(i.t);if(!t)throw Error("useEditorStore must be used within Provider");return(0,l.P)(t,e)}},82332:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(84681);let l=e=>({pageRequesting:!0,submitting:!1,errorCode:null,updateSubmitting:t=>{e((0,s.jM)(e=>{e.submitting=t}))},updatePageRequesting:t=>{e((0,s.jM)(e=>{e.pageRequesting=t}))},updateErrorCode:t=>{e((0,s.jM)(e=>{e.errorCode=t}))}})},85679:(e,t,a)=>{"use strict";a.d(t,{A:()=>ep});var s=a(16911),l=a(91495),i=a(66087),o=a(52137),r=a(68157),n=a(46200),d=a(69782),c=a(53497),u=a(90782),p=a(65124),m=a(46379),g=a(3435),h=a(48155),v=a(9776),f=a(6070),x=a(40386),y=a(1142),b=a(18881),w=a(49906),C=a(22567),k=a(19753),j=a(38680),N=a(27262),_=a(5066),A=a(85943),I=a(19821),P=a(17274),O=a.n(P),E=a(96267),D=a.n(E),S=a(6053),T=a(77697),M=a(77688),R=a(47994),V=a(57202),L=a(4732),U=a(4873),F=a(79853),G=a(77537),B=a(21689),z=a.n(B);let q=e=>{let t,{type:a,src:l,onClick:o,poster:r,blurBgImageUrl:n,isActive:d}=e,c=(0,i.useRef)(null),u=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(!d){var e,t;null===(e=c.current)||void 0===e||e.pause(),null===(t=u.current)||void 0===t||t.pause()}},[d]);let[p,m]=(0,i.useState)(null);switch(a){case"image":t=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0 bg-cover bg-center bg-position-center",style:{backgroundImage:"url(".concat(n,")")}}),(0,s.jsx)(C.default,{unoptimized:!0,alt:"Preivew Image",className:"size-full object-contain rounded",fill:!0,sizes:"100%",src:r},r)]});break;case"video":t=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0 bg-cover bg-center bg-position-center",style:{backgroundImage:"url(".concat(n,")")}}),(0,s.jsxs)("video",{className:"bg-transparent size-full z-10 pointer-events-none",ref:c,poster:r,preload:"none",loop:!0,muted:!0,onTimeUpdate:e=>{e.currentTarget.duration>0?m({currentTime:Math.round(e.currentTarget.currentTime),duration:Math.round(e.currentTarget.duration)}):m(null)},children:[(0,s.jsx)("source",{src:l}),"Your browser does not support video."]},l),p?(0,s.jsxs)("div",{className:"opacity-0 md:group-hover/item-left:opacity-100 absolute top-3 right-3 font-medium text-[10px] z-10",style:{textShadow:"2px 2px 5px rgba(0, 0, 0, 0.5)"},children:[(0,F.j)(p.currentTime)," / ",(0,F.j)(p.duration)]}):null]});break;case"audio":t=(0,s.jsxs)("div",{className:"relative size-full flex items-center justify-center",children:[(0,s.jsx)(V.x,{className:"!absolute top-0 left-0 right-0 bottom-0"}),(0,s.jsx)("div",{className:"w-full max-h-full mx-12 z-10",onClick:e=>e.stopPropagation(),children:(0,s.jsx)(I.F,{ref:u,classNames:{base:"max-w-full px-5 bg-black rounded-lg pt-6 pb-4"},src:l},l)})]})}return(0,s.jsx)("div",{className:"flex justify-center items-center size-full bg-domo-grey-1",onClick:()=>{null==o||o({url:l,type:a})},onMouseEnter:()=>{var e;null===(e=c.current)||void 0===e||e.play().catch(()=>{})},onMouseLeave:()=>{var e;null===(e=c.current)||void 0===e||e.pause()},"data-sentry-component":"HistoryPostItemSlideContent","data-sentry-source-file":"history-post-item-view-v2.tsx",children:t})},K=e=>{let[t,a]=(0,i.useState)(!0),[s,l]=(0,i.useState)(!0),o=(0,i.useCallback)(()=>{e&&e.scrollPrev()},[e]),r=(0,i.useCallback)(()=>{e&&e.scrollNext()},[e]),n=(0,i.useCallback)(e=>{a(!e.canScrollPrev()),l(!e.canScrollNext())},[]);return(0,i.useEffect)(()=>{e&&(n(e),e.on("reInit",n).on("select",n))},[e,n]),{prevBtnDisabled:t,nextBtnDisabled:s,onPrevButtonClick:o,onNextButtonClick:r}},$=e=>{let[t,a]=(0,G.A)({duration:20}),{prevBtnDisabled:l,nextBtnDisabled:o,onPrevButtonClick:r,onNextButtonClick:n}=K(a);(0,i.useImperativeHandle)(e.ref,()=>({scrollTo:e=>{null==a||a.scrollTo(e,!0)}}),[a]);let c=(0,i.useCallback)(t=>{e.onSlideIndexChange(t.selectedScrollSnap())},[e.onSlideIndexChange]);(0,i.useEffect)(()=>{a&&(c(a),a.on("reInit",c).on("select",c))},[a,c]);let u="opacity-0 md:group-hover/item-left:opacity-100 transition-opacity duration-200 cursor-pointer rounded-full bg-domo-card-background/50 backdrop-blur-[20px] active:bg-[#4a4e57cc] z-30";return(0,s.jsxs)("div",{className:(0,d.$)(z().embla,"relative md:border-4 border-transparent md:group-hover/item-left:border-domo-card-background/50 transition-[border-color] rounded-xl overflow-hidden",e.className),ref:t,"data-sentry-component":"HistoryPostItemCarouselView","data-sentry-source-file":"history-post-item-view-v2.tsx",children:[(0,s.jsx)("div",{className:z().embla__container,children:e.assets.map((t,l)=>(0,s.jsx)("div",{className:(0,d.$)(z().embla__slide,"size-full select-none justify-center flex items-center overflow-hidden"),onClick:a=>{a.stopPropagation(),e.onClickAsset(t)},children:(0,s.jsx)(q,{src:t.url,type:t.type,poster:(0,_.$D)(t,_.bO.GRID),blurBgImageUrl:(0,_.$D)(t,_.bO.BLUR_BG),isActive:(null==a?void 0:a.selectedScrollSnap())==l})},"history-item-slide-".concat(l)))}),(0,s.jsxs)("div",{className:z().embla__controls,children:[(0,s.jsx)(j._,{isIconOnly:!0,className:(0,d.$)("absolute top-1/2 left-1 -translate-y-1/2 rotate-180 min-w-0 min-h-0 w-auto h-auto",u),variant:"light",onPress:r,"data-sentry-element":"DomoButton","data-sentry-source-file":"history-post-item-view-v2.tsx",children:(0,s.jsx)(k.hq,{size:32,color:"white","data-sentry-element":"SwiperNextIcon","data-sentry-source-file":"history-post-item-view-v2.tsx"})}),(0,s.jsx)(j._,{isIconOnly:!0,className:(0,d.$)("absolute top-1/2 right-1 -translate-y-1/2 min-w-0 min-h-0 w-auto h-auto",u),variant:"light",onPress:n,"data-sentry-element":"DomoButton","data-sentry-source-file":"history-post-item-view-v2.tsx",children:(0,s.jsx)(k.hq,{size:32,color:"white","data-sentry-element":"SwiperNextIcon","data-sentry-source-file":"history-post-item-view-v2.tsx"})})]})]})},Y=e=>{let[t,a]=(0,m.Cj)();return(0,s.jsxs)("div",{className:"h-6 flex flex-row items-center gap-x-2 mb-2","data-sentry-component":"HistoryPostItemPromptHeaderView","data-sentry-source-file":"history-post-item-view-v2.tsx",children:[(0,s.jsx)("div",{className:"font-semibold text-sm leading-6",children:e.t("Prompt")}),(0,s.jsx)(j._,{className:"min-h-4 min-w-4 w-4 h-4",onPress:()=>{a(e.text).then(()=>{M.X.success({title:e.t("Copied")})})},isIconOnly:!0,variant:"light",radius:"full","data-sentry-element":"DomoButton","data-sentry-source-file":"history-post-item-view-v2.tsx",children:(0,s.jsx)(C.default,{loader:A.S,alt:"Copy",height:16,src:k.su,width:16,"data-sentry-element":"NextJSImage","data-sentry-source-file":"history-post-item-view-v2.tsx"})})]})},Q=e=>{let[t,a]=(0,i.useState)(!1),[l,r]=(0,i.useState)(!1),[n,u]=(0,i.useState)(!1),p="py-1 px-1 gap-x-1 flex-1 text-xs font-medium min-w-0 min-h-0 w-auto h-auto",[g,h]=(0,i.useState)(!1),v=[],f=(0,m.Ub)("(min-width: 768px)"),x=(0,m.Ub)("(min-width: 1024px) and (max-width: 1200px)"),{isOpen:y,onOpen:b,onOpenChange:w,onClose:_}=(0,c.j)();e.downloadUrl&&v.push((0,s.jsx)(j._,{as:D(),target:"_blank",className:p,radius:"none",variant:"light",startContent:(0,s.jsx)(C.default,{loader:A.S,alt:"Download",height:20,src:k.t_,width:20}),href:e.downloadUrl,children:e.t("Download")},"download")),v.push((0,s.jsx)(j._,{className:p,radius:"none",isDisabled:t,variant:"light",onPress:()=>{a(!0),e.onClickAddToAssets().finally(()=>{a(!1)})},startContent:(0,s.jsx)(C.default,{loader:A.S,alt:"Add to Assets",height:20,src:k.fl,width:20}),children:e.t("To assets")},"add-to-assets")),e.category==o.M.VIDEO&&e.onClickVideoUpscale?v.push(f?(0,s.jsx)(S.v,{onClickVideoUpscale:t=>{e.onClickVideoUpscale&&(r(!0),e.onClickVideoUpscale(t).finally(()=>{r(!1)}))},isDisabled:l,placement:"bottom-start",onOpenChange:h,t:e.t,videoDuration:e.videoDuration,videoQuality:e.videoQuality,children:(0,s.jsxs)("div",{className:(0,d.$)("cursor-pointer hover:bg-default/40 flex flex-row items-center justify-center",p),children:[(0,s.jsx)(C.default,{loader:A.S,alt:"Upscale",height:20,src:k.aG,width:20}),e.t("Upscale")]})},"upscale"):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(j._,{className:p,radius:"none",isDisabled:l,variant:"light",onPress:b,children:[(0,s.jsx)(C.default,{loader:A.S,alt:"Upscale",height:20,src:k.aG,width:20}),e.t("Upscale")]},"upscale"),(0,s.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,s.jsx)(S.D,{isOpen:y,onClickVideoUpscale:t=>{e.onClickVideoUpscale&&(r(!0),e.onClickVideoUpscale(t).finally(()=>{r(!1)})),_()},onOpenChange:w,t:e.t,videoDuration:e.videoDuration,videoQuality:e.videoQuality})})]})):(e.category==o.M.GEN||e.category==o.M.RESTYLE)&&e.onClickImageUpscale&&v.push((0,s.jsx)(j._,{className:p,radius:"none",variant:"light",isDisabled:l,startContent:(0,s.jsx)(C.default,{loader:A.S,alt:"Upscale",height:20,src:k.aG,width:20}),onPress:()=>{e.onClickImageUpscale&&(r(!0),e.onClickImageUpscale().finally(()=>{r(!1)}))},children:e.t("Upscale")},"upscale")),e.category===o.M.GEN&&v.push((0,s.jsx)(j._,{className:p,radius:"none",variant:"light",isDisabled:n,onPress:()=>{e.onClickImageVary&&(u(!0),e.onClickImageVary().finally(()=>{u(!1)}))},startContent:(0,s.jsx)(C.default,{loader:A.S,alt:"Vary",height:20,src:k.Nk,width:20}),children:e.t("Vary")},"vary"));let I=v.length;for(let e=0;e<I-1;e++)v.splice(2*e+1,0,(0,s.jsx)(N.y,{className:"bg-white/30 h-3",orientation:"vertical"},"divider-".concat(e)));return(0,s.jsx)("div",{className:(0,d.$)("flex flex-row items-center bg-domo-card-background/50 backdrop-blur-[20px] rounded-full overflow-hidden",g?"!translate-y-0":void 0,e.className,I>3&&x?"[&>*]:text-[0px]":void 0),"data-sentry-component":"HistoryPostItemControlBar","data-sentry-source-file":"history-post-item-view-v2.tsx",children:v})},H=e=>{var t;let a=(0,L.F)(e.generateInfo);return(0,s.jsxs)("div",{className:"absolute left-0 top-0 right-0 bottom-0 z-10 pl-3 md:pl-5 pt-2 md:pt-3 pb-4 md:pb-5 flex flex-col justify-start items-start  rounded-xl overflow-hidden text-white/50 bg-domo-grey-1","data-sentry-component":"HistoryPostItemGeneratingView","data-sentry-source-file":"history-post-item-view-v2.tsx",children:[e.asset&&"audio"!=e.asset.type?(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0 bg-cover bg-center bg-position-center -z-10",style:{backgroundImage:"url(".concat((0,_.$D)(e.asset,_.bO.BLUR_BG),")")}}):(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0 bg-gradient-to-t from-[#171717] to-[#373737] -z-10"}),(0,s.jsx)("div",{className:"text-[100px] leading-[100px] font-extralight flex-1",style:{letterSpacing:"-0.25rem"},children:null!==a&&"".concat(Math.trunc(100*a),"%")}),(0,s.jsx)("div",{className:(0,d.$)("ml-1 font-semibold text-sm leading-none",O().dotLoading),children:null!==a?e.t("Generating"):e.t("In queue")}),(0,s.jsx)("div",{className:"ml-1 font-semibold text-sm leading-none",children:(null===(t=e.generateInfo)||void 0===t?void 0:t.prediction_time)&&null!==a?"".concat(e.t("Avg. waiting")," ").concat(e.generateInfo.prediction_time):e.t("Please wait.")})]})},X=e=>{let t,a;let l=(0,U.rO)(e.post.generate_info),r=(0,i.useRef)(void 0),[n,c]=(0,i.useState)(0),u=l?e.post.assets:e.post.assets.slice(1),p=l?u:e.post.generated_assets,m=u.length?p.concat(u):p,g=n>=0&&n<m.length?m[n]:null,h=null!=e.post.params,v=(0,x.lV)(e.post),f=(0,R.K)(e.post.category,e.t);if(e.post.category===o.M.VIDEO){var N;t=null!==(N=(0,y.V)(e.post))&&void 0!==N?N:void 0,a=(0,b.u)(e.post.params)}let _=(0,x.Ix)(e.post,n),I=(0,w.vV)(e.post);return(0,s.jsx)("div",{className:"pb-5 md:pb-4","data-sentry-component":"HistoryPostItemViewV2","data-sentry-source-file":"history-post-item-view-v2.tsx",children:(0,s.jsxs)("div",{className:(0,d.$)("relative flex flex-col gap-y-3 md:px-3 py-3 group/item rounded-3xl overflow-clip font-hostGrotesk md:hover:bg-white/10",e.className),onClick:e.onClick,children:[(0,s.jsxs)("div",{className:"flex flex-row gap-x-2 font-hostGrotesk font-semibold text-white text-[16px] pl-2",children:[(0,s.jsx)(w.bh,{t:e.t,tag:I,"data-sentry-element":"PostTagV2","data-sentry-source-file":"history-post-item-view-v2.tsx"}),f]}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-y-4 lg:gap-x-4",children:[(0,s.jsxs)("div",{className:"relative group/item-left lg:min-w-[260px] flex-1 md:overflow-hidden",children:[(0,s.jsx)($,{className:(0,d.$)("aspect-video",l?"opacity-0":void 0),ref:r,onSlideIndexChange:c,assets:m,onClickAsset:e.onClickAsset,"data-sentry-element":"HistoryPostItemCarouselView","data-sentry-source-file":"history-post-item-view-v2.tsx"}),l?(0,s.jsx)(H,{t:e.t,asset:g,generateInfo:e.post.generate_info}):null,!l&&g?(0,s.jsx)(Q,{onClickImageUpscale:_?()=>e.onClickImageUpscale(e.post.id,n):void 0,onClickImageVary:()=>e.onClickImageVary(e.post.id,n),onClickVideoUpscale:e.onClickVideoUpscale,category:e.post.category,downloadUrl:(0,x.Uv)(g.url),className:"mt-1 md:mt-0 md:opacity-0 md:group-hover/item-left:opacity-100 md:absolute bottom-3 left-2 right-2 z-10 transition-opacity duration-200",t:e.t,videoDuration:t,videoQuality:a,onClickAddToAssets:()=>e.onClickAddToAssets({url:g.url,type:g.type,category:e.post.category})}):null]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-1",children:[(0,s.jsx)(Y,{t:e.t,text:v,"data-sentry-element":"HistoryPostItemPromptHeaderView","data-sentry-source-file":"history-post-item-view-v2.tsx"}),(0,s.jsx)("div",{className:"text-sm opacity-50 mb-5 whitespace-pre-wrap break-all line-clamp-2",onClick:e=>{e.stopPropagation()},children:v}),(0,s.jsx)(T.R,{className:"mb-4",assets:{left:p,right:u},selectedAssetIndex:n,onPress:e=>{var t;null===(t=r.current)||void 0===t||t.scrollTo(e),c(e)},"data-sentry-element":"PostPreviewGalleryNavigation","data-sentry-source-file":"history-post-item-view-v2.tsx"}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-x-2 mt-auto",children:[(0,s.jsx)(j._,{className:"flex-1 font-medium text-sm border-1.5 border-white/20 rounded-full data-[hover=true]:bg-white/15",variant:"bordered",isDisabled:!h,startContent:(0,s.jsx)(C.default,{loader:A.S,alt:"Regen",height:20,src:k.j$,width:20}),onPress:e.onClickReGen,"data-sentry-element":"DomoButton","data-sentry-source-file":"history-post-item-view-v2.tsx",children:e.t("Re-gen")}),(0,s.jsx)(j._,{className:"p-1 min-h-9 min-w-9 w-9 h-9 opacity-50 data-[hover=true]:opacity-100 data-[hover=true]:bg-[#FF515426]",onPress:e.onClickDelete,isIconOnly:!0,variant:"light",radius:"full","data-sentry-element":"DomoButton","data-sentry-source-file":"history-post-item-view-v2.tsx",children:(0,s.jsx)(C.default,{className:"brightness-0 invert",loader:A.S,alt:"Delete",height:28,src:k.gF,width:28,"data-sentry-element":"NextJSImage","data-sentry-source-file":"history-post-item-view-v2.tsx"})})]})]})]})]})})};var J=a(11979),W=a(47263),Z=a(85810),ee=a(87958),et=a(22334),ea=a(85940),es=a(80595),el=a(563),ei=a(44005),eo=a(17430),er=a(65615);let en=e=>{let t,a,{context:{noMoreData:l,pageResetRequesting:i,t:r,category:n}}=e;if(i)return(0,s.jsx)("div",{className:"flex flex-col",children:Array.from({length:3}).map((e,t)=>(0,s.jsx)(p.m,{className:"rounded-3xl size-full !bg-white/10 mb-4 w-full aspect-video max-h-72"},"history-skeleton-".concat(t)))});switch(n){case o.M.GEN:case o.M.RESTYLE:t=r("Welcome, go generate your first image with DomoAI."),a=(0,s.jsx)(J.zy,{});break;default:t=r("Welcome, go generate your first video with DomoAI."),a=(0,s.jsx)(J.lK,{})}return(0,s.jsxs)("div",{className:"size-full flex flex-col justify-center items-center text-center color-white opacity-50 font-medium text-sm","data-sentry-component":"EditorHistoryEmptyPlaceholder","data-sentry-source-file":"editor-history-posts-view-v2.tsx",children:[a,t]})},ed=e=>{let{context:{noMoreData:t,pageResetRequesting:a,requesting:l,count:i}}=e;if(!a&&(!t||l||!(i<1)))return(0,s.jsx)("div",{className:"w-full aspect-[32/9] pb-4 max-h-64","data-sentry-component":"EditorHistoryPostsLoadingItem","data-sentry-source-file":"editor-history-posts-view-v2.tsx",children:l&&!t?(0,s.jsx)("div",{className:"rounded-3xl size-full !bg-white/10"}):null})},ec=(0,i.forwardRef)((e,t)=>(0,s.jsx)("div",{className:"scrollbar-hide",ref:t,...e})),eu=(0,ei.default)(()=>a.e(9871).then(a.bind(a,45109)).then(e=>e.PostDetailModalView),{loadableGenerated:{webpack:()=>[45109]},ssr:!1}),ep=(0,i.forwardRef)((e,t)=>{var a,p,x,y,b,w,C;let k=(0,Z.i)(e=>e),{t:j}=(0,l.B)(e.lng,"common"),{data:N}=(0,n.useSession)(),_=null==N?void 0:N.accessToken,A=(0,i.useRef)(null),I=[];switch(e.editorCategory){case eo.M.AI_VIDEO:I=[o.M.VIDEO,o.M.ANIMATE,o.M.MOVE,o.M.TALKING_AVATAR];break;case eo.M.AI_IMAGE:I=[o.M.GEN,o.M.RESTYLE];break;case eo.M.AI_EDITING:I=[o.M.UPSCALE]}let{isOpen:P,onOpen:O,onOpenChange:E}=(0,c.j)(),{isOpen:D,onOpen:S,onClose:T,onOpenChange:M}=(0,c.j)(),R=(0,m.Ub)("(min-width: 768px)"),{isHistoryOpen:V,onHistoryClose:L,onHistoryOpenChange:U}=(0,i.useContext)(ee.B),{deletePost:F}=(0,el.B)(_,e.lng);(0,g.m)(_,null!==(b=k.posts)&&void 0!==b?b:[],5e3,e=>{!(e.length<1)&&_&&h.QJ.webUser.querySelfPosts(e,_).then(t=>{var a;if(t.length<1)return;k.updatePosts(t);let s=t.filter(t=>e.includes(t.id)).find(e=>{var t;return e.id===(null===(t=k.previewPost)||void 0===t?void 0:t.id)});s&&(null===(a=s.generate_info)||void 0===a?void 0:a.status)===r.I.COMPLETION&&k.updatePreviewPost(s)})});let G=(e,t,a)=>{var s;if(!(!_||(null===(s=k.requestingCategories)||void 0===s?void 0:s.every(e=>I.includes(e)))))return k.updateRequestingCategories(I),k.updateNoMoreData(!1),h.QJ.user.fetchLibraryPosts(e,t-e+1,_,I).then(e=>{let{data:{posts:t}}=e;a?k.resetPosts(t):k.addPosts(t),t.length<1&&k.updateNoMoreData(!0)}).finally(()=>{k.updateRequestingCategories(null)})};(0,i.useEffect)(()=>{var e,t;_&&(k.resetPosts([]),null===(e=A.current)||void 0===e||e.scrollTo({top:0}),null===(t=G(0,19,!0))||void 0===t||t.finally(()=>{}))},[_,I.join("-")]);let B=e=>{_&&(k.markDeletingPost(e,!0),F(e).then(t=>{t?(k.deletePost(e),k.previewPost&&k.updatePreviewPost(null)):k.markDeletingPost(e,!1)}))};(0,i.useImperativeHandle)(t,()=>({refresh:()=>{G(0,19,!0)}}),[_,null===(a=k.requestingCategories)||void 0===a?void 0:a.join("-")]);let z=null!==(w=null===(p=k.posts)||void 0===p?void 0:p.filter(e=>!0!=e.deleting))&&void 0!==w?w:[],q=null===k.posts||null!==k.requestingCategories&&z.length<1,K=(null!==(C=null===(x=k.requestingCategories)||void 0===x?void 0:x.length)&&void 0!==C?C:0)>0,$=(0,s.jsx)(W.aY,{ref:A,style:{height:"100%"},data:z,overscan:{main:600,reverse:600},endReached:k.noMoreData?void 0:()=>G(z.length,z.length+20-1,!1),context:{pageResetRequesting:q,noMoreData:k.noMoreData,requesting:K,count:z.length,t:j,editorCategory:e.editorCategory},increaseViewportBy:{top:3e3,bottom:200},computeItemKey:(e,t)=>"post-".concat(t.id),itemContent:(t,a)=>(0,s.jsx)(X,{onClick:()=>{k.updatePreviewPost(a)},post:a,className:"h-full",onClickAddToAssets:e.onClickAddToAssets,onClickAsset:e=>{k.updatePreviewAsset({post:a,asset:e}),R&&O()},onClickDelete:()=>{S(),k.updateDeletingPostId(a.id)},onClickReGen:()=>{a.params&&e.onClickReGen({category:a.category,create:a.params})},onClickVideoUpscale:t=>{var s,l;return null!==(l=null===(s=e.onClickVideoUpscale)||void 0===s?void 0:s.call(e,a.category,a.id,t))&&void 0!==l?l:Promise.resolve()},onClickImageUpscale:(t,s)=>{var l,i;return null!==(i=null===(l=e.onClickImageUpscale)||void 0===l?void 0:l.call(e,a.category,t,s))&&void 0!==i?i:Promise.resolve()},onClickImageVary:(t,s)=>{var l,i;return null!==(i=null===(l=e.onClickImageVary)||void 0===l?void 0:l.call(e,a.category,t,s))&&void 0!==i?i:Promise.resolve()},t:j}),components:{Scroller:ec,Footer:ed,EmptyPlaceholder:en}}),Y=(0,s.jsxs)("div",{className:(0,d.$)("flex flex-col py-0 px-3 md:gap-y-2 group h-full max-w-[1600px]",e.className),children:[(0,s.jsx)("div",{className:"flex flex-row min-h-10 md:min-h-12 items-center",children:(0,s.jsx)("h3",{className:"text-base font-semibold",children:j("History")})}),$,e.previewModal?e.previewModal(P,E,k.previewPost):(0,s.jsx)(v.E,{assets:k.previewAsset,isOpen:P&&null!=k.previewAsset,onOpenChange:e=>{E(),e||k.updatePreviewAsset(null)}}),(0,s.jsx)(f.E,{isOpen:D&&null!=k.deletingPostId,onClickDelete:e=>{B(e),k.updateDeletingPostId(null)},onOpenChange:M,postId:k.deletingPostId,t:j}),null==k.previewAsset&&k.previewPost&&(0,s.jsx)(eu,{isDismissable:!0,onClickUseModel:(t,a)=>{e.onClickReGen({category:t,create:{model_version:a}}),k.updatePreviewPost(null)},fetchPostDetail:h.QJ.webPost.fetchPostDetail.bind(h.QJ.webPost),lng:e.lng,loginRequired:!0,onClickClose:()=>{k.updatePreviewPost(null)},onDeletePostSuccess:e=>{k.deletePost(e),k.updatePreviewPost(null)},onClickRegen:t=>{t.params&&e.onClickReGen({category:t.category,create:t.params})},postId:null===(y=k.previewPost)||void 0===y?void 0:y.id})]});return R?(0,s.jsx)("div",{className:"size-full flex flex-col items-center","data-sentry-component":"EditorHistoryPostsViewV2","data-sentry-source-file":"editor-history-posts-view-v2.tsx",children:Y}):(0,s.jsx)(et.I,{classNames:{base:"max-h-[calc(100%-4rem)]"},hideCloseButton:!0,isOpen:V,onOpenChange:U,placement:"bottom",size:"5xl",children:(0,s.jsx)(ea.g,{className:"h-full",children:e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(es.c,{className:"p-0 bg-domo-grey-1",onClick:e,children:(0,s.jsx)(er.$,{})}),(0,s.jsx)(u.h,{className:"px-0 pb-0 pt-2 bg-domo-grey-1",children:Y})]})})})})},85810:(e,t,a)=>{"use strict";a.d(t,{Y:()=>u,i:()=>p});var s=a(16911),l=a(66087),i=a(30303),o=a(84681);let r=(e,t)=>({requestingCategories:null,previewPost:null,previewAsset:null,deletingPostId:null,noMoreData:!1,posts:null,resetPosts:t=>{e((0,o.jM)(e=>{e.posts=t.map(t=>{var a,s;return{...t,deleting:null===(s=e.posts)||void 0===s?void 0:null===(a=s.find(e=>e.id==t.id))||void 0===a?void 0:a.deleting}})}))},markDeletingPost:(t,a)=>{e((0,o.jM)(e=>{if(!e.posts)return;let s=e.posts.findIndex(e=>e.id===t);!(s<0)&&(e.posts[s]={...e.posts[s],deleting:a})}))},deletePost:t=>{e((0,o.jM)(e=>{e.posts&&(e.posts=e.posts.filter(e=>e.id!==t))}))},updatePosts:t=>{e((0,o.jM)(e=>{if(e.posts)for(let a of t){let t=e.posts.findIndex(e=>e.id===a.id);!(t<0)&&(e.posts[t]={...a,deleting:e.posts[t].deleting})}}))},addPosts:t=>{e((0,o.jM)(e=>{var a,s;for(let s of(null===(a=e.posts)||void 0===a||a.length,e.posts=[...e.posts||[],...t],t)){let t=e.posts.findIndex(e=>e.id===s.id);t>=0?e.posts[t]={...s,deleting:e.posts[t].deleting}:e.posts.push(s)}}))},updateNoMoreData:t=>{e((0,o.jM)(e=>{e.noMoreData=t}))},updateDeletingPostId:t=>{e((0,o.jM)(e=>{e.deletingPostId=t}))},updatePreviewPost:t=>{e((0,o.jM)(e=>{e.previewPost=t,e.previewAsset=null}))},updatePreviewAsset:t=>{e((0,o.jM)(e=>{var a,s;e.previewAsset=null!==(a=null==t?void 0:t.asset)&&void 0!==a?a:null,e.previewPost=null!==(s=null==t?void 0:t.post)&&void 0!==s?s:null}))},updateRequestingCategories:t=>{e((0,o.jM)(e=>{e.requestingCategories=t}))}}),n=()=>(0,i.y)()(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return{...r(...t)}});var d=a(6371);let c=(0,l.createContext)(void 0),u=e=>{let{children:t}=e,a=(0,l.useRef)(void 0);return a.current||(a.current=n()),(0,s.jsx)(c.Provider,{value:a.current,"data-sentry-element":"unknown","data-sentry-component":"EditorHistoryStoreProvider","data-sentry-source-file":"editor-history-store-provider.tsx",children:t})},p=e=>{let t=(0,l.useContext)(c);if(!t)throw Error("useEditorHistoryStore must be used within Provider");return(0,d.P)(t,e)}},85943:(e,t,a)=>{"use strict";a.d(t,{S:()=>l});let s=e=>e.startsWith("/")?e.slice(1):e;function l(e){let{src:t,width:a,quality:l}=e,i="https://img-c.domoai.app/cdn-cgi/imagedelivery/".concat("_x5qGVgvt8-cROikD3CkFw","/"),o="public",r=t;r.startsWith(i)&&(r=r.slice(i.length)),r.endsWith("/".concat(o))&&(r=r.slice(0,r.length-"/".concat(o).length)),r=s(r);let n=["width=".concat(a)];l&&n.push("quality=".concat(l)),n.push("format=auto");let d=n.join(",");return"".concat(i).concat(r,"/").concat(d)}},87803:(e,t,a)=>{"use strict";a.d(t,{K:()=>x});var s=a(16911),l=a(70046),i=a(37666),o=a(76069),r=a(88518),n=a(52137),d=a(57099),c=a(53486),u=a(81190),p=a(48155),m=a(57096),g=a(66087),h=a(79858),v=a(46200),f=a(91495);let x=e=>{let t=(0,u.U)((0,m.k)(e=>{var t;return{errorCode:e.errorCode,updateErrorCode:e.updateErrorCode,category:e.category,allowed_modes:null===(t=e.editorInfo)||void 0===t?void 0:t.allowed_modes,updateGenerateMode:e.updateGenerateMode}})),{balance:a}=(0,g.useContext)(h.u),{data:x}=(0,v.useSession)(),{t:y}=(0,f.B)(e.lng,"common"),b=null==x?void 0:x.accessToken;if(null==t.errorCode)return(0,s.jsx)(s.Fragment,{});let w=(0,r.Bm)(a);return(0,s.jsx)(c.PostingErrorModals,{onEndTrial:()=>b?p.QJ.payment.endFreeTrial(b):Promise.reject(),imageLoader:l.S,isTrial:w,errorCode:t.errorCode,links:{buyCredits:(0,i.rs)(e.lng),upgradePlan:(0,i.bM)(e.lng),discordTicketChannel:o.C.links.discordTicketChannel},onClickRelaxMode:()=>{switch(t.category){case n.M.TALKING_AVATAR:case n.M.UPSCALE:break;default:var e;(null===(e=t.allowed_modes)||void 0===e?void 0:e.includes(d.T.RELAX))&&t.updateGenerateMode(d.T.RELAX)}},onClose:()=>{t.updateErrorCode(null)},t:y,vip_level:null==a?void 0:a.vip_level,"data-sentry-element":"PostingErrorModals","data-sentry-component":"EditorPostingErrorModals","data-sentry-source-file":"editor-posting-error-modals.tsx"})}},87958:(e,t,a)=>{"use strict";a.d(t,{B:()=>o,default:()=>r});var s=a(16911),l=a(66087),i=a(53497);let o=(0,l.createContext)({isHistoryOpen:!1,onHistoryOpen:()=>{},onHistoryClose:()=>{},onHistoryOpenChange:()=>{}}),r=function(e){let{children:t}=e,{isOpen:a,onOpen:l,onClose:r,onOpenChange:n}=(0,i.j)();return(0,s.jsx)(o.Provider,{value:{isHistoryOpen:a,onHistoryOpen:l,onHistoryClose:r,onHistoryOpenChange:n},"data-sentry-element":"unknown","data-sentry-component":"EditorHistoryModalControlProvider","data-sentry-source-file":"editor-history-modal-control-provider.tsx",children:t})}},88518:(e,t,a)=>{"use strict";a.d(t,{Bm:()=>o,Qw:()=>r,fg:()=>i});var s=a(62646),l=a.n(s);let i=e=>"".concat(e.subscription_credits," / ").concat(e.plan_subscription_credits),o=e=>!!e&&!!e.free_trial_end&&l()(e.free_trial_end)>l()(),r=e=>!o(e)&&null==e.latest_subscription_expires_at&&!0==e.free_trial_qualification},97326:(e,t,a)=>{"use strict";a.d(t,{Fr:()=>v,ez:()=>x});var s=a(37666),l=a(52137),i=a(46653),o=a(75232),r=a(52050),n=a(70046),d=a(10286),c=a(48155),u=a(66087),p=a(46200),m=a(91495),g=a(77688);let h=(e,t)=>[{id:30012,text:t("Anime V5.1 Model - Turn your video into detailed anime"),simpleText:t("Turn video into anime"),image:{src:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/31c65ff4-97b5-49a8-e8a7-cc07dd27c900/public",pureImageSrc:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/37751004-5b61-4d96-39c2-d0901ff5ef00/public",loader:n.S},href:(0,s.Vs)(l.M.VIDEO,e,new URLSearchParams({[d.dS]:"true"})),category:l.M.VIDEO,params:{model_version:15016,lip_sync:!0},isFavorite:!1,name:t("Video to Anime"),type:"AI video"},{id:30002,text:t("Turn your static image into living video"),simpleText:t("Turn image into video"),image:{src:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/90ef746d-49dc-46c8-d4af-9dda4969c700/public",pureImageSrc:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/1ded6696-8a2d-4337-82d2-f116213fc000/public",loader:n.S},href:(0,s.Vs)(l.M.ANIMATE,e),category:l.M.ANIMATE,params:{},isFavorite:!1,name:t("Image to Video"),type:"AI video"},{id:30010,text:t("Talking Avatar - Bring your images to life with voice"),simpleText:t("Talking Avatar"),image:{src:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/6708c5ca-e6e6-45e8-6d56-808a69d15600/public",pureImageSrc:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/f88adcc9-97aa-4434-5327-87aec0964e00/public",loader:n.S},href:(0,s.Vs)(l.M.TALKING_AVATAR,e,new URLSearchParams({[d.dS]:"true"})),category:l.M.TALKING_AVATAR,params:{talking_avatar_type:i.M.AVATAR},isFavorite:!1,name:t("Talking Avatar"),type:"AI video"},{id:30011,text:t("Voice Cloning - Clone your voice & Text-to-Speech"),simpleText:t("Text to Speech"),image:{src:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/662f008e-831b-42a2-1da3-a3638aa41800/public",pureImageSrc:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/7acf6f0e-b81e-4946-c65f-66d39dec1c00/public",loader:n.S},href:(0,s.Vs)(l.M.TALKING_AVATAR,e,new URLSearchParams({[d.dS]:"true"})),category:l.M.TALKING_AVATAR,params:{talking_avatar_type:i.M.VOICE_REPRODUCE},isFavorite:!1,name:t("Text to Speech"),type:"AI video"},{id:30003,text:t("Make your character move with reference video"),simpleText:t("Make your character move"),image:{src:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/23c0a4c1-6f34-4f02-21f4-4c5d8ad9be00/public",pureImageSrc:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/aa094ab6-5431-444b-d967-e3817f65c100/public",loader:n.S},href:(0,s.Vs)(l.M.MOVE,e,new URLSearchParams({[d.dS]:"true"})),category:l.M.MOVE,params:{model_version:16005},isFavorite:!1,name:t("Character to Anime"),type:"AI video"},{id:30004,text:t("Restyle - Turn your photo into various styles"),simpleText:t("Restyle Photo"),image:{src:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/aecebe39-baf7-4fe7-1f0b-674d9037f900/public",pureImageSrc:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/6b35aa11-a7f4-4d5c-d992-7e9668b6f700/public",loader:n.S},href:(0,s.Vs)(l.M.RESTYLE,e),category:l.M.RESTYLE,params:{},isFavorite:!1,name:t("Restyle Photo"),type:"AI image"},{id:30005,text:t("Turn your video into 3D cartoon with synced lips"),simpleText:t("Lip sync anime video"),image:{src:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/65f46414-7cfb-48ab-9972-518231efa000/public",pureImageSrc:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/323f0582-8571-4d69-81af-a9883a9b9400/public",loader:n.S},href:(0,s.Vs)(l.M.VIDEO,e,new URLSearchParams({[d.dS]:"true"})),category:l.M.VIDEO,params:{model_version:15030,lip_sync:!0},isFavorite:!1,name:t("Lip Sync Video"),type:"AI video"},{id:30006,text:t("Fusion Style V2 - Turn your video into any style"),simpleText:t("Fusion Style V2"),image:{src:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/e790126a-b367-4013-8f5c-17181d156600/public",pureImageSrc:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/cf094274-efd2-4929-0a40-edee4ae5dc00/public",loader:n.S},href:(0,s.Vs)(l.M.VIDEO,e,new URLSearchParams({[d.dS]:"true"})),category:l.M.VIDEO,params:{model_version:15035,refer_mode:o.y.PROMPT_MORE},isFavorite:!1,name:t("Fusion Style V2"),type:"AI video"},{id:30007,text:t("Turn your creative text into amazing art image"),simpleText:t("Turn text into image"),image:{src:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/fe327724-905e-4a0c-a3fb-91b884b7a500/public",pureImageSrc:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/37d47a40-1e2d-4396-cf34-0db29845de00/public",loader:n.S},href:(0,s.Vs)(l.M.GEN,e),category:l.M.GEN,params:{},isFavorite:!1,name:t("Text to Image"),type:"AI image"},{id:30008,text:t("Upscale - Turn your image & video to studio level"),simpleText:t("Image/video upscaler"),image:{src:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/89072265-2a8f-467e-8eed-6b57219a9900/public",pureImageSrc:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/aeadc0dd-8521-4375-03d4-90493028ca00/public",loader:n.S},href:(0,s.Vs)(l.M.UPSCALE,e),category:l.M.UPSCALE,params:{},isFavorite:!1,name:t("Image/Video Upscale"),type:"AI editing"},{id:30009,text:t("Illus v9 Model - Turn your video into 2.5D illustration"),simpleText:t("Turn video into illustration"),image:{src:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/0b0f366e-3879-4abf-077d-61b464beeb00/public",pureImageSrc:"https://img-c.domoai.app/cdn-cgi/imagedelivery/_x5qGVgvt8-cROikD3CkFw/1b70c285-2185-4ba9-a490-f437b27e6c00/public",loader:n.S},href:(0,s.Vs)(l.M.VIDEO,e,new URLSearchParams({[d.dS]:"true"})),category:l.M.VIDEO,params:{model_version:15022},isFavorite:!1,name:t("Video to 2.5D cartoon"),type:"AI video"}],v=e=>{var t;let{t:a}=(0,m.B)(e,"common"),s=h(e,a),[l,i]=(0,u.useState)([]),[o,n]=(0,u.useState)(!0),[d,v]=(0,u.useState)(null),{data:f}=(0,p.useSession)(),x=null==f?void 0:null===(t=f.user)||void 0===t?void 0:t.uid,y=null==f?void 0:f.accessToken;(0,u.useEffect)(()=>{if(n(!1),!y){i([]);return}n(!0),c.QJ.webUser.fetchFavoriteQuickApps(y).then(e=>{i(e)}).finally(()=>{n(!1)})},[y]);let b=l.reduce((e,t)=>({...e,[t.quick_app_id]:t.is_favorite}),{});return{quickApps:s.map(e=>({...e,isFavorite:!!b[e.id]})),favoriteQuickApps:l.map(e=>{let t=s.find(t=>t.id===e.quick_app_id),a=!!e.is_favorite;return t&&a?(t.isFavorite=a,t):null}).filter(e=>null!=e),isLoading:o,updateFavoriteQuickApp:(e,t,s)=>{if(n(!1),!y||!x||null!=d)return;v(window.setTimeout(()=>{v(null)},1e3)),n(!0);let o=l.map(e=>({...e}));i(a=>{let s=a.findIndex(t=>t.quick_app_id===e);if(-1===s)return[...a,{uid:x,quick_app_id:e,is_favorite:t}];let l=a[s];return l.is_favorite=t,[...a.slice(0,s),...a.slice(s+1),l]});let u=()=>{i(o)};c.QJ.webUser.favoriteQuickApp(y,e,t).then(e=>{let{code:t}=e;0!==t&&(g.X.error({title:a("Collection failed")}),u())}).catch(e=>{var t;(null===(t=e.response)||void 0===t?void 0:t.status)===r.DK.RATE_LIMIT?g.X.error({title:a("Request rate too frequent")}):g.X.error({title:a("Collection failed")}),u()}).finally(()=>{n(!1)})}}},f=e=>{switch(e){case l.M.VIDEO:return["video_url","image_url","prompt","model_version","duration","refer_mode","video_key","mode","disable_watermark","orientation","lip_sync","subject_only","upscale_frame_rate","upscale_resolution"];case l.M.ANIMATE:return["image_url","prompt","duration","intensity","mode","disable_watermark","model_version","orientation"];case l.M.MOVE:return["video_url","image_url","prompt","model_version","duration","video_key","mode","disable_watermark","lip_sync","subject_only"];case l.M.GEN:return["prompt","image_url","model_version","orientation","mode","disable_watermark"];case l.M.RESTYLE:return["image_url","prompt","model_version","refer_style_mode","mode","disable_watermark","face_sync"];case l.M.UPSCALE:return["type","video_url","image_url","duration","mode","resolution","frame_rate","disable_watermark"];case l.M.TALKING_AVATAR:return["type","audio_url","image_url","duration","mode","disable_watermark"]}return[]},x=(e,t)=>{try{let a=e.get(d.dS);if(null==a)return null;if(e.size>1){let a=f(t),s={};for(let t of a){let a=e.get(t);a&&(s[t]=a)}return{create:s,category:t}}let s=window.sessionStorage.getItem("quick-app-params");if(s){let e=JSON.parse(s),t=(0,l.YE)(e.category);if(t)return delete e.category,{category:t,create:e}}}catch(e){}return null}},99550:(e,t,a)=>{"use strict";a.d(t,{a:()=>I});var s=a(16911),l=a(69782),i=a(81176),o=a(52779),r=a(65124),n=a(77107),d=a(52137),c=a(22567),u=a(17274),p=a.n(u),m=a(19753),g=a(10286),h=a(38279),v=a(38680),f=a(59731),x=a(354),y=a(81190),b=a(71511),w=a(30904),C=a(5066);let k=(e,t,a)=>{if("video"===t)return e(a===d.M.MOVE?"Click/Drop a moment video":"Click/Drop a video");if("image"===t){if(a===d.M.VIDEO)return e("Click/Drop a reference image");if(a===d.M.MOVE)return e("Click/Drop a character image");if(a===d.M.RESTYLE)return e("Click/Drop a photo");else if(a===d.M.TALKING_AVATAR)return e("Click/Drop a character image");else if(a===d.M.ANIMATE)return e("Click/Drop a start image");else if(a===d.M.GEN)return e("Click/Drop an image (optional)");return e("Click/Drop a image")}return"audio"===t?e("Click/Drop a audio"):e("Click/Drop a file")},j=e=>{var t;let a;switch(null!==(t=e.type)&&void 0!==t?t:null){case"audio":a=g.MY;break;case"video":a=g.$G;break;default:a=g.rV}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.Z,{type:e.type,category:e.category,className:"size-[60px] md:!size-10 color-white","data-sentry-element":"FileEmptyIcon","data-sentry-source-file":"editor-file-uploader-v2.tsx"}),(0,s.jsx)("p",{className:"font-semibold text-xs md:text-sm text-white select-none text-center",children:k(e.t,e.type,e.category)}),(0,s.jsxs)("p",{className:"font-normal text-xs opacity-50 text-white select-none",children:[e.t("File Size")," < ",a,"MB"]})]})},N=e=>(0,s.jsxs)("div",{className:"flex flex-col gap-y-7 items-center","data-sentry-component":"UploadingView","data-sentry-source-file":"editor-file-uploader-v2.tsx",children:[(0,s.jsx)(o.Y,{"aria-label":"Uploading...",classNames:{svg:"w-10 h-10",indicator:"stroke-white"},color:"default",size:"lg",value:Math.ceil(100*e.progress),"data-sentry-element":"CircularProgress","data-sentry-source-file":"editor-file-uploader-v2.tsx"}),(0,s.jsx)("div",{className:(0,l.$)("font-semibold text-base",p().dotLoading),children:e.title})]}),_=e=>{let t,a,{t:l,entry:i,onClickDelete:o,onClickReUpload:r,onLoadVideoDuration:d,showIconButton:u,onClickAddToAssets:p,showAssetsButton:g}=e,f="video"===i.type,x="image"===i.type;if(i.filePath)t=i.filePath;else{var y;t=null!==(y=i.url)&&void 0!==y?y:"",a=(0,C.kj)(t,C.bO.GRID)}let b="hidden md:flex rounded bg-[#4A4E5766] backdrop-blur gap-1 min-h-0 min-w-0 font-medium text-xs h-6 px-1.5";return(0,s.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full p-4 flex justify-center items-center","data-sentry-component":"FilePreviewView","data-sentry-source-file":"editor-file-uploader-v2.tsx",children:[f?(0,s.jsxs)("video",{className:"bg-domo-overlay-black max-w-full max-h-full rounded-lg",controls:!0,preload:"metadata",poster:a,onLoadedMetadata:e=>{d&&d(e.currentTarget.duration)},children:[(0,s.jsx)("source",{src:t}),"Your browser does not support video."]},i.updateDate):null,x?(0,s.jsx)(n.W,{"aria-label":"File Preview",classNames:{wrapper:"max-w-full max-h-full rounded-lg",img:" max-w-full max-h-full rounded-lg"},disableSkeleton:!0,radius:"lg",src:t,style:{objectFit:"contain",borderRadius:"0.5rem"}},i.updateDate):null,(0,s.jsx)("div",{className:"absolute bottom-3 flex gap-x-2 items-stretch z-10",children:u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.a,{content:l("Upload new file"),placement:"top",children:(0,s.jsx)(v._,{className:"min-w-0 min-h-0 p-0 !size-7 w-auto h-auto rounded-full bg-domo-card-background",onPress:r,size:"sm",startContent:(0,s.jsx)(c.default,{alt:"UploadFolder",className:"size-5",height:28,src:m.hx,unoptimized:!0,width:28})})}),g?(0,s.jsx)(h.a,{content:l("Assets"),placement:"top",children:(0,s.jsx)(v._,{className:"min-w-0 min-h-0 p-0 !size-7 w-auto h-auto rounded-full bg-domo-card-background",onPress:p,size:"sm",startContent:(0,s.jsx)(m.UL,{className:"size-5 focus:outline-none",color:"white",size:28})})}):null,(0,s.jsx)(h.a,{content:l("Delete"),placement:"top",children:(0,s.jsx)(v._,{className:"min-w-0 min-h-0 p-0 !size-7 w-auto h-auto rounded-full bg-domo-card-background",onPress:o,size:"sm",startContent:(0,s.jsx)(m.d7,{className:"size-5 focus:outline-none",color:"white",size:28})})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v._,{className:b,onPress:r,size:"sm",startContent:(0,s.jsx)(m.jf,{size:16}),children:l("Re-upload")}),(0,s.jsx)(v._,{className:b,onPress:o,size:"sm",startContent:(0,s.jsx)(m.d7,{size:16}),children:l("Delete")}),(0,s.jsx)(v._,{className:"md:hidden min-h-7 min-w-7 w-7 h-7 p-0",isIconOnly:!0,onPress:o,radius:"full",size:"sm",children:(0,s.jsx)(m.d7,{size:20})})]})})]})},A=e=>{let t;return e.fileEntry?null!=e.uploadingProgress?(0,s.jsx)(N,{progress:e.uploadingProgress,title:e.t("Uploading")}):e.children(e.fileEntry):(0,s.jsxs)("div",{className:"flex flex-col items-center gap-y-1",children:[(0,s.jsx)(j,{category:e.category,onClickUpload:e.open,t:e.t,type:e.type}),(0,s.jsxs)(v._,{className:"h-[30px] flex items-center gap-1 bg-transparent data-[hover=true]:bg-white/15 rounded-full mt-2 py-[3px] md:px-3 md:py-[3px] text-xs border-[1.5px] border-white/20",isDisabled:e.isDisabled,onPress:e.onSelectAsset,disableAnimation:!0,children:[(0,s.jsx)(c.default,{alt:"Select Asset",className:"size-5",height:20,src:m.z2,unoptimized:!0,width:20}),(0,s.jsx)("span",{className:"text-xs font-medium",children:e.t("Select asset")})]})]})},I=e=>{let{type:t,...a}=e,o=(0,y.U)(e=>e);if(a.loading)return(0,s.jsx)(r.m,{className:(0,l.$)("rounded-lg size-full",a.className),isLoaded:!a.loading});let n=()=>{let e=o.fileEntries[a.fileKey];if((null==e?void 0:e.url)&&e.type){var t;null===(t=a.onClickAddToAssets)||void 0===t||t.call(a,{url:e.url,type:e.type})}};return(0,s.jsxs)("div",{className:"relative","data-sentry-component":"EditorFileUploaderV2","data-sentry-source-file":"editor-file-uploader-v2.tsx",children:[(0,s.jsx)(i.Ay,{accept:a.fileTypes,disabled:null!=o.uploadingProgress[a.fileKey],multiple:!1,noClick:!!o.fileEntries[a.fileKey],onDrop:e=>{if(a.accessToken&&a.uid&&e.length>0){let t=e[0],s=(0,f.p)(t.type);o.setFileEntry(a.fileKey,{filePath:URL.createObjectURL(t),url:null,updateDate:new Date().toISOString(),type:s}),a.uploadAsset({accessToken:a.accessToken,file:t,uploadingProgress:o.uploadingProgress[a.fileKey],uid:a.uid,setUploadingProgress:e=>{o.setUploadingProgress(a.fileKey,e)},onUploadFinish:(e,t,s)=>{o.updateFileUrl(a.fileKey,e),a.onUploadFinish(e,s)}}),o.setUploadingProgress(a.fileKey,0)}},validator:e=>a.accessToken&&a.uid?(0,x.g)(a.t,e):(a.onUnauthorized&&a.onUnauthorized(),{code:"unauthorized"}),"data-sentry-element":"Dropzone","data-sentry-source-file":"editor-file-uploader-v2.tsx",children:e=>{let{getRootProps:i,getInputProps:r,isDragActive:d,open:c}=e,u=i();return(0,s.jsxs)("div",{className:(0,l.$)("relative flex flex-col justify-center items-center flex-grow bg-domo-overlay-black rounded-xl gap-y-2 w-full font-hostGrotesk",d?"!bg-[#00FF940A]/5":void 0,a.className),...u,onClick:e=>{if(a.accessToken&&a.uid){var t;null===(t=u.onClick)||void 0===t||t.call(u,e)}else a.onUnauthorized&&a.onUnauthorized()},children:[(0,s.jsx)("input",{...r()}),(0,s.jsx)(A,{category:a.category,fileEntry:o.fileEntries[a.fileKey],onSelectAsset:()=>{var e;return null===(e=a.onSelectAsset)||void 0===e?void 0:e.call(a)},open:c,t:a.t,type:t,uploadingProgress:o.uploadingProgress[a.fileKey],showRecommend:a.showRecommend,showTutorial:a.showTutorial,fileKey:a.fileKey,children:e=>(0,s.jsx)(_,{entry:e,onClickAddToAssets:n,onClickDelete:()=>{a.onDeleteFile&&a.onDeleteFile(),o.updateSelectedAsset(a.fileKey,void 0),o.setFileEntry(a.fileKey,null)},onClickReUpload:c,onLoadVideoDuration:a.onLoadVideoDuration,showAssetsButton:!o.selectedAssets[a.fileKey],showIconButton:a.showIconButton,t:a.t})})]})}}),!o.fileEntries[a.fileKey]&&a.showTutorial&&(0,s.jsx)(w.P,{t:a.t,fileKey:a.fileKey,category:a.category})]})}}}]);